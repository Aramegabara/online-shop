/** @preserve
version 4.4.24, 11.07.2025
*/
(function(){function ycxErrorHandler(error){if(window.console)console.warn("YourCX Error: ",error)}try{if(_undef(window.yourcx)||typeof window.yourcx!="function"){window.yourcx=undefined;(function(y,o,u,r,c,x){y[c]=y[c]||function(){(y[c].q=y[c].q||[]).push(arguments)};if(x){if(typeof y[x]!="undefined"&&typeof y[x].q!="undefined")for(var i=0;i<y[x].q.length;i++)y[c].apply(null,y[x].q[i]);y[x]=y[c]}})(window,document,"script",".","yourcx","opiniac")}if(_undef(window.opiniac))(function(y,o,u,r,c,x){y[x]=y[c]})(window,document,"script",".","yourcx","opiniac");if(_undef(window.yourcx.loaded))window.yourcx.loaded=true;else return;if(_undef(window.yourcx.q))window.yourcx.q=[];var _config={products:{acceptable:["audit","checkout","quit","target","insert"],exclusive:["audit"],multiply:["insert","target"]},geolocation:{check:false},pageTypeFunc:function(pageType){},charEncodingTranslate:function(txt){return txt},analytics:{pathDimensions:["page.type","page.type_path"],processDimensionsFunc:function(key,val){},defaultParams:{session:{"user.logged":false},visitor:{"user.customer":false},events:{}},flags:{monitorHashChange:false,monitorHistoryChange:true,hashHistoryChangeAutoClean:true,hashHistoryChangeAutoRepeat:false,paths:true,events:true}},plugins:{},allowedSurveys:["8832ae39136fb470b3fbbf9f47b4570d","09d37c08f7b129e96277388757530c72","0aae0fede9a4d278e2f9a171e62fc76b"]};var _defaultSurveyConfig={};var _defaultProductConfig={};var _surveyPreRunCheck={};var _surveys={},_surveysByProducts={},_observer=new Observers,_mutationObserver=new MutationObservers(_observer),_arrayObserver=new ArrayObserver(_observer),_run_time=(new Date).getTime(),_storage=null,_analytics=null,_tablet=_detectMobile().tablet,_mobile=_detectMobile().phone,_clientId=919,_logging=false,_globalFireSurveyBlock=false,_globalWelcomeBlock=false,_postponedSurveys={};function fExtend(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj)continue;for(var key in obj){if(obj.hasOwnProperty(key)){if(obj[key]===Object(obj[key])&&typeof obj[key]!="function"){if(out[key]!==Object(out[key]))out[key]={};out[key]=fExtend(out[key],obj[key])}else out[key]=obj[key]}}}return out}function _undef(a){return typeof a=="undefined"}function _pluginRegister(obj){for(var i=0;i<obj.config.events.length;i++){switch(obj.config.events[i]){case"receiveResult":_observer.on(obj.config.events[i],function(x){return function(data){var name=obj.config.name;if(!_undef(data.rules[name]))obj["on"+x](data.results,data.rules[name])}}(obj.config.events[i]));break;default:_observer.on(obj.config.events[i],function(x){return function(data){obj["on"+x](data)}}(obj.config.events[i]));break}}}function _detectMobile(){var apple_phone=/iPhone/i,apple_ipod=/iPod/i,apple_tablet=/iPad/i,android_phone=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,android_tablet=/Android/i,amazon_phone=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,amazon_tablet=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,windows_phone=/Windows Phone/i,windows_tablet=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,other_blackberry=/BlackBerry/i,other_blackberry_10=/BB10/i,other_opera=/Opera Mini/i,other_chrome=/(CriOS|Chrome)(?=.*\bMobile\b)/i,other_firefox=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,seven_inch=new RegExp("(?:"+"Nexus 7"+"|"+"BNTV250"+"|"+"Kindle Fire"+"|"+"Silk"+"|"+"GT-P1000"+")","i");var match=function(regex,userAgent){return regex.test(userAgent)};var IsMobileClass=function(userAgent){var ua=userAgent||navigator.userAgent;var tmp=ua.split("[FBAN");if(typeof tmp[1]!=="undefined"){ua=tmp[0]}tmp=ua.split("Twitter");if(typeof tmp[1]!=="undefined"){ua=tmp[0]}this.apple={phone:match(apple_phone,ua),ipod:match(apple_ipod,ua),tablet:!match(apple_phone,ua)&&match(apple_tablet,ua),device:match(apple_phone,ua)||match(apple_ipod,ua)||match(apple_tablet,ua)};this.amazon={phone:match(amazon_phone,ua),tablet:!match(amazon_phone,ua)&&match(amazon_tablet,ua),device:match(amazon_phone,ua)||match(amazon_tablet,ua)};this.android={phone:match(amazon_phone,ua)||match(android_phone,ua),tablet:!match(amazon_phone,ua)&&!match(android_phone,ua)&&(match(amazon_tablet,ua)||match(android_tablet,ua)),device:match(amazon_phone,ua)||match(amazon_tablet,ua)||match(android_phone,ua)||match(android_tablet,ua)};this.windows={phone:match(windows_phone,ua),tablet:match(windows_tablet,ua),device:match(windows_phone,ua)||match(windows_tablet,ua)};this.other={blackberry:match(other_blackberry,ua),blackberry10:match(other_blackberry_10,ua),opera:match(other_opera,ua),firefox:match(other_firefox,ua),chrome:match(other_chrome,ua),device:match(other_blackberry,ua)||match(other_blackberry_10,ua)||match(other_opera,ua)||match(other_firefox,ua)||match(other_chrome,ua)};this.seven_inch=match(seven_inch,ua);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var IM=new IsMobileClass;IM.Class=IsMobileClass;return IM}function _out(txt){txt=_config.charEncodingTranslate(txt);return txt}function _log(msg){if(!_logging)return;var a=document.getElementById("yourcx.log");if(!a){a=document.createElement("div");a.setAttribute("id","yourcx.log");document.body.appendChild(a)}var err=new Error;a.innerHTML=a.innerHTML+"<br />"+(new Date).getTime()+" "+msg+"<br />"+err.stack}var _generateGUID=typeof window.crypto!="undefined"&&typeof window.crypto.getRandomValues!="undefined"?function(){var buf=new Uint16Array(8);window.crypto.getRandomValues(buf);var S4=function(num){var ret=num.toString(16);while(ret.length<4){ret="0"+ret}return ret};return S4(buf[0])+S4(buf[1])+"-"+S4(buf[2])+"-"+S4(buf[3])+"-"+S4(buf[4])+"-"+S4(buf[5])+S4(buf[6])+S4(buf[7])}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})};var _cookie={set:function(e,t,n,r,i,s){var o=e+"="+escape(t);if(n){var u=new Date;var a=new Date(u.getTime()+n*1e3*60);o+="; expires="+a.toGMTString()}if(r)o+="; path="+escape(r);if(i)o+="; domain="+escape(i);if(s)o+="; secure";document.cookie=o;return this},get:function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");if(t)return unescape(t[2]);else return null}};var _misc={};_misc.url={getQueryStringObj:function(query){if(typeof query=="undefined")query=document.location.search;var obj={},qPos=query.indexOf("?"),tokens=query.substr(qPos+1).split("&"),i=tokens.length-1;if(qPos!==-1||query.indexOf("=")!==-1){for(;i>=0;i--){var s=tokens[i].split("=");obj[unescape(s[0])]=s.hasOwnProperty(1)?unescape(s[1]):null}}return obj}};
_config.analytics.flags.paths = false;
_config.analytics.flags.events = false;
_config.analytics.flags.monitorHashChange = false;
_config.analytics.flags.monitorHistoryChange = false;
function _runConfigAndConditions(){

1==1}_observer.on("runSurveys",_runConfigAndConditions);

/** @preserve
version 2.6.4, 13.06.2025
*/
function _YourcxAnalytics(){var that=this,XDomainStorageUrl=null;this.ready=false;this.selfInit=false,this.userId=null;var webVitalsObj=null;if(arguments.length>=1)XDomainStorageUrl=arguments[0];var storageKey="_analytics";var storage=new _YourcxStorage({sessionKey:"_analytics_session",mode:"xdomain",xDomainUrl:XDomainStorageUrl,preload:[storageKey,"client_params.session","client_params.visitor"],obj:that});_storage=storage;var client_params={page:{},session:{},visitor:{}};if(!storage.supported())return null;if(arguments.callee._singletonInstance)return arguments.callee._singletonInstance;arguments.callee._singletonInstance=this;var tabId=null;var currentPageViewNumber=1;var initData={version:4,visit:{num:1,startTime:parseInt((new Date).getTime()/1e3),page:1,firstUrl:document.URL.substring(0,299),referer:document.referrer.substring(0,299),geolocation:null,id:null,surveyed:false,path:{url:[],"page.type":[]},events:[]},site:{firstPageTime:parseInt((new Date).getTime()/1e3),lastPageTime:parseInt((new Date).getTime()/1e3),pages:1},user:{surveysSeen:0,surveysInited:0,surveysFilled:0,returning:false,events:[]},page:{webVitals:{lcp:null,cls:null,fid:null,ttfb:null,fcp:null}}};var updateDataOnPageView=function(data){var time=parseInt((new Date).getTime()/1e3),urlParsed,refererParsed;++data.site.pages;if(data.version==1){data.version=2;data.visit.geolocation=null}if(data.version==2){data.version=3;data.visit.id=null;data.visit.surveyed=false;data.visit.path=that.path.init()}if(data.version==3){data.version=4;data.visit.events=[];data.user.events=[]}if(data.version==4){if(typeof data.user.events=="undefined")data.user.events=[];if(typeof data.page=="undefined")data.page={webVitals:{lcp:null,cls:null,fid:null,ttfb:null,fcp:null}}}if(time-data.site.lastPageTime>=30*60){_observer.fire("analytics.visit.new",{diffSeconds:time-data.site.lastPageTime});urlParsed=that.parseURL(document.URL);refererParsed=that.parseURL(document.referrer);data.visit.num=parseInt(data.visit.num)+1;data.visit.startTime=parseInt((new Date).getTime()/1e3);data.visit.page=1;currentPageViewNumber=1;data.visit.firstUrl=document.URL.substring(0,299);if(urlParsed.host!=refererParsed.host)data.visit.referer=document.referrer.substring(0,299);data.visit.id=_generateGUID();data.visit.surveyed=false;data.visit.events=[];data.visit.path=that.path.init();that.cleanClientParams("page");that.cleanClientParams("session");that.initClientParams();if(_config.analytics.flags.paths){var clientParams=that.getClientParams(null,true,false);data.visit.path.url.push({time:(new Date).getTime(),val:document.URL.substring(0,299),page:data.visit.page,tab:tabId,clientParams:clientParams["page"]})}data.site.lastPageTime=time;data.user.returning=true;storage.set(storageKey,data);that.sendEvent("visitor.event","visit.new",{val:true,sessionParams:{}})}else{data.site.lastPageTime=time;data.visit.page=parseInt(data.visit.page)+1;currentPageViewNumber=data.visit.page;that.path.addEventData("url",document.URL.substring(0,299),data);storage.set(storageKey,data)}};this.storageInit=function(){this.initWrapper()};this.initWrapper=function(){this.init();this.initHashChangeMonitor();this.initHistoryChangeMonitor()};this.initHistoryChangeMonitor=function(){var oldHref=location.href;if(_config.analytics.flags.monitorHistoryChange===true){(function(history){var pushState=history.pushState;history.pushState=function(state){if(typeof history.onpushstate=="function"){history.onpushstate({state:state})}setTimeout(function(){that.init();_observer.fire("analytics.init.historyChange",state)},200);return pushState.apply(history,arguments)};var replaceState=history.replaceState;history.replaceState=function(state){if(typeof history.onreplacestate=="function"){history.onreplacestate({state:state})}setTimeout(function(){that.init();_observer.fire("analytics.init.historyChange",state)},200);return replaceState.apply(history,arguments)}})(window.history)}else if(_config.analytics.flags.monitorHistoryChange==="dumb"){setInterval(function(){var newHref=location.href;if(oldHref!==newHref){oldHref=newHref;setTimeout(function(){that.init();_observer.fire("analytics.init.historyChange",state)},200)}},1e3)}};this.initHashChangeMonitor=function(){var oldHref=location.href;if(_config.analytics.flags.monitorHashChange===true){if("onhashchange"in window){window.addEventListener("hashchange",function(){var newHref=location.href;if(oldHref!==newHref){oldHref=newHref;that.init();_observer.fire("analytics.init.hashChange",{})}},false)}}else if(_config.analytics.flags.monitorHashChange==="dumb"){setInterval(function(){var newHref=location.href;if(oldHref!==newHref){oldHref=newHref;that.init();_observer.fire("analytics.init.hashChange",{})}},500)}};this.init=function(){_globalFireSurveyBlock=false;var hasSessionStorageAccess=true;try{typeof window.sessionStorage}catch(error){hasSessionStorageAccess=false}if(hasSessionStorageAccess){var yourcx_tabId=sessionStorage.getItem("yourcx_TI");if(yourcx_tabId)tabId=yourcx_tabId;else{tabId=_generateGUID();sessionStorage.setItem("yourcx_TI",tabId)}}storage.getUserId(function(userId){new Promise(function(resolve){storage.get(storageKey,resolve,true)}).then(function(data){that.userId=userId;if(!data){data=initData;data.visit.id=_generateGUID();data.visit.surveyed=false;data.visit.path=that.path.init();data.page.tabId=tabId;storage.set(storageKey,data);that.initClientParams();if(_config.analytics.flags.paths){var clientParams=that.getClientParams(null,true,false);data.visit.path.url.push({time:(new Date).getTime(),val:document.URL.substring(0,299),page:data.visit.page,tab:tabId,clientParams:clientParams["page"]})}storage.set(storageKey,data);that.sendEvent("visitor.event","visit.new",{val:true,sessionParams:{}})}else{data.page.tabId=tabId;updateDataOnPageView(data)}if(!webVitalsObj)webVitalsObj=new _YourCXWebVitals(that);that.ready=true}).catch(ycxErrorHandler)})};this.initClientParams=function(){var clientParams=that.getClientParams(null,true,false),scope,key,scopes=["session","visitor"],i;for(i=0;i<scopes.length;i++){scope=scopes[i];if(!_undef(clientParams[scope]["ttl"]))that.addClientParam(null,null,scope)}};this.setWebVitalsData=function(type,value){var data=this.getData();if(data.page.webVitals[type]){data.page.webVitals[type]=value;return}new Promise(function(resolve){storage.get(storageKey,resolve,true)}).then(function(data){data.page.webVitals[type]=value;storage.set(storageKey,data)}).catch(ycxErrorHandler)};this.cleanClientParams=function(scope){if(scope=="page")client_params.page={};else{_storage.set("client_params."+scope,{})}};this.getData=function(){return storage.get(storageKey)};this.getUserId=function(){return this.userId};this.userDataEvent=function(event,event_data){new Promise(function(resolve){storage.get(storageKey,resolve,true)}).then(function(data){switch(event){case"goal":that.path.addEventData("goal",event_data.name,data);var clientParams=that.getClientParams(null,true,false);that.sendEvent("visitor.event",event_data.name,{val:true,sessionParams:clientParams["session"]});break;case"event":switch(event_data.scope){case"session":that.path.addEventData(event_data.key,event_data.val,data);if(event_data.key==event_data.scope+".event")that.sendEvent(event_data.scope+".event",event_data.val,true);else that.sendEvent(event_data.scope+".event",event_data.key,event_data.val);break;case"visitor":var clientParams=that.getClientParams(null,true,false);if(event_data.key==event_data.scope+".event")that.sendEvent(event_data.scope+".event",event_data.val,{val:true,sessionParams:clientParams["session"]});else that.sendEvent(event_data.scope+".event",event_data.key,{val:event_data.val,sessionParams:clientParams["session"]});break}break;case"surveyReceivedFirstAnswer":that.path.addEventData("survey.first_answer",event_data.cid,data);break;case"surveyFilled":data.user.surveysFilled=parseInt(data.user.surveysFilled)+1;data.user.events=[];var val=document.URL.substring(0,299);if(event_data)val=event_data.cid;that.path.addEventData("survey.filled",val,data);break;case"surveySeen":data.visit.surveyed=true;that.path.setSurveyedFlag(data.visit.path);that.path.addEventData("survey.seen",event_data.cid,data);data.user.surveysSeen=parseInt(data.user.surveysSeen)+1;break;case"surveyInited":data.user.surveysInited=parseInt(data.user.surveysInited)+1;break}storage.set(storageKey,data)}).catch(ycxErrorHandler)};this.addClientParam=function(key,val,scope,_overwrite){var saveTime=360*24;var overwrite=typeof _overwrite=="undefined"?true:_overwrite;switch(scope){case"page":client_params.page[key]=val;break;case"session":saveTime=24;case"visitor":_storage.get("client_params."+scope,function(_data){var sendChangeData=false,sendAll=false;if(!_data){_data={};sendChangeData=true}if(!_undef(_data["ttl"])){var tmp={};for(var i in _data.data){tmp[i]={ttl:_data["ttl"],val:_data.data[i]}}_data=tmp;sendAll=true}if(key){if(_undef(_data[key])){_data[key]={ttl:saveTime*60*60*1e3+(new Date).getTime(),val:val};sendChangeData=true}else{if(overwrite){if(_data[key].val!=val)sendChangeData=true;_data[key]={ttl:saveTime*60*60*1e3+(new Date).getTime(),val:val}}}}_storage.set("client_params."+scope,_data);if(key){if(sendChangeData&&overwrite)that.sendEvent("client.param."+scope,key,val);if(sendAll){for(var i in _data)that.sendEvent("client.param."+scope,i,_data[i].val)}}});break}};this.getClientParams=function(_callback,_cached,_combined){_cached=_cached||false;var combined=typeof _combined=="undefined"?true:_combined;var int=function(_data){var tmp={visitor:{},session:{},page:{}},i;if(!_undef(_config.analytics.defaultParams["visitor"]))tmp["visitor"]=_config.analytics.defaultParams["visitor"];if(!_undef(_config.analytics.defaultParams["session"]))tmp["session"]=_config.analytics.defaultParams["session"];for(i in client_params.page)tmp["page"][i]=client_params.page[i];if(_data["client_params.visitor"])for(i in _data["client_params.visitor"])if(!_undef(_data["client_params.visitor"][i].ttl)&&_data["client_params.visitor"][i].ttl>=(new Date).getTime())tmp["visitor"][i]=_data["client_params.visitor"][i].val;if(_data["client_params.session"])for(i in _data["client_params.session"])if(!_undef(_data["client_params.session"][i].ttl)&&_data["client_params.session"][i].ttl>=(new Date).getTime()&&_data["client_params.session"][i].ttl<=24*60*60*1e3+(new Date).getTime())tmp["session"][i]=_data["client_params.session"][i].val;var ret={};if(combined)ret=fExtend(ret,tmp["visitor"],tmp["session"],tmp["page"]);else ret=tmp;if(_callback)_callback(ret);return ret};if(_cached){var _data=_storage.getMultiCached(["client_params.session","client_params.visitor"]);return int(_data)}_storage.getMulti(["client_params.session","client_params.visitor"],int)};this.dimensionCheck=function(key,val,scope){if(key=="page.type"){if(val=="thank you page")setTimeout(function(){that.userDataEvent("goal",{name:"purchase"})},33)}if(key=="user.logged"){if(val==true)this.addClientParam("user.customer",true,"visitor")}this.path.updateDimension(key,val);_config.analytics.processDimensionsFunc(key,val)};this.sendEvent=function(_event_type,_key,_val){new Promise(function(resolve){storage.get(storageKey,resolve,true)}).then(function(data){if(!_config.analytics.flags.events&&_event_type!="survey.welcome.shown")return;if(!_undef(_config.analytics.defaultParams.events[_key]))if(_val===Object(_val)&&typeof _val!="function")_val=fExtend(_val,_config.analytics.defaultParams.events[_key]);switch(_event_type){case"session.event":case"client.param.session":if(!data.visit.surveyed){data.visit.events.push({visitId:data.visit.id,key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,tab:tabId,type:_event_type});storage.set(storageKey,data);break}storage.sendEvent(_event_type,{visitId:data.visit.id,key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,tab:tabId,type:_event_type});break;case"client.param.visitor":case"visitor.event":storage.sendEvent(_event_type,{visitId:data.visit.id,userId:that.getUserId(),key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,clientId:_clientId});if(!data.visit.surveyed){data.visit.events.push({visitId:data.visit.id,key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,type:_event_type});storage.set(storageKey,data);break}var _e_type=_event_type.replace("visitor","session");storage.sendEvent(_e_type,{visitId:data.visit.id,key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,type:_event_type});break;case"survey.welcome.shown":storage.sendEvent(_event_type,{visitId:data.visit.id,userId:that.getUserId(),key:_key,data:_val,time:(new Date).getTime(),page:currentPageViewNumber,tab:tabId,type:_event_type,mobile:_mobile});break}}).catch(ycxErrorHandler)};this.path={init:function(){var obj={url:[]};for(var i=0;i<_config.analytics.pathDimensions.length;i++){obj[_config.analytics.pathDimensions[i]]=[]}return obj},addEventData:function(_key,_val,_data){var setData=false;if(!_config.analytics.flags.paths)return;if(!_data){_data=storage.get(storageKey);setData=true}if(_undef(_data.visit.path[_key]))_data.visit.path[_key]=[];var clientParams=that.getClientParams(null,true,false);if(!_undef(clientParams["page"][_key]))delete clientParams["page"][_key];var keyPush={time:(new Date).getTime(),val:_val,page:currentPageViewNumber,tab:tabId,clientParams:clientParams["page"]};_data.visit.path[_key].push(keyPush);if(_data.visit.surveyed)storage.sendEvent("updateVisitPath",{visitId:_data.visit.id,key:_key,data:keyPush,clientId:_clientId});if(setData)storage.set(storageKey,_data)},updateDimension:function(_key,_val){if(_config.analytics.pathDimensions.indexOf(_key)===-1)return;this.addEventData(_key,_val)},setSurveyedFlag:function(_data){var dimensions=_config.analytics.pathDimensions,i=0,j=null,tmpData=null,params,key,val;dimensions.push("url");params=that.getClientParams(null,true);for(i=0;i<dimensions.length;i++){if(_undef(params[dimensions[i]])&&dimensions[i]!="url")continue;if(_undef(_data[dimensions[i]]))continue;tmpData=_data[dimensions[i]];if(!tmpData.length)continue;val=tmpData[tmpData.length-1];val.surveyed=true;tmpData[tmpData.length-1]=val;_data[dimensions[i]]=tmpData}},getStep:function(_key,_pos){var data,pathData,pos=null;if(typeof _pos=="undefined")_pos=null;if(!_config.analytics.flags.paths)return false;data=storage.get(storageKey);if(_undef(data.visit.path[_key]))return false;pathData=data.visit.path[_key];switch(_pos){case null:return pathData;case"last":pos=pathData.length-1;break;case"previous":pos=pathData.length-2;break;default:pos=_pos}if(pos<0)pos=pathData.length-1+pos;if(_undef(pathData[pos]))return null;return pathData[pos]},checkStep:function(_key,_pos,_val){if(_pos===Object(_pos)&&typeof _pos!="function"){var data,i;if(_undef(_pos["type"]))return false;data=this.getStep(_key,null);switch(_pos["type"]){case"first":for(i=0;i<data.length;i++){if(this.checkStepVal(data[i],_val))return i}return false;case"last":for(i=data.length-1;i>=0;i--){if(this.checkStepVal(data[i],_val))if(_undef(_pos["valType"]))return i;else switch(_pos["valType"]){case"absolute":return i;case"relative":return i-data.length+1}}return false;case">":if(_undef(_pos["start"]))return false;for(i=_pos["start"]+1;i<data.length;i++){if(this.checkStepVal(data[i],_val))return i}return false}}var val=this.getStep(_key,_pos);return this.checkStepVal(val,_val)},checkStepVal:function(_valObject,_valMatch){var ret;if(!_valObject)return false;if(_valMatch instanceof RegExp){ret=_valObject.val.match(_valMatch);return ret?true:false}else if(_valObject.val===_valMatch)return true;return false},checkStepParam:function(_key,_pos,_paramName,_val,_caseSensitive=false){var step=this.getStep(_key,_pos);if(!step)return false;var url=URL.parse(step.val);var params=new URLSearchParams(url.search);if(params.has(_paramName)){var paramVal=params.get(_paramName);if(!_caseSensitive)paramVal=paramVal.toLowerCase();return this.checkStepVal({val:paramVal},_val)}return false}};this.parseURL=function(url){var parser=document.createElement("a"),searchObject={},queries,split,i;parser.href=url;queries=parser.search.replace(/^\?/,"").split("&");for(i=0;i<queries.length;i++){split=queries[i].split("=");searchObject[split[0]]=split[1]}return{protocol:parser.protocol,host:parser.host,hostname:parser.hostname,port:parser.port,pathname:parser.pathname,search:parser.search,searchObject:searchObject,hash:parser.hash}};if(this.selfInit)this.initWrapper()}function _YourCXWebVitals(dataObject){!function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach(function(e){e(r)}),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,r),removeEventListener("pointercancel",i,r)};addEventListener("pointerup",n,r),addEventListener("pointercancel",i,r)}(t,e):c(t,e)}},f=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,s,r)})},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))},!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();var t=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},e=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(t){}},n=!1,i=function(t,e){n||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",function(){}),n=!0);addEventListener("visibilitychange",function n(i){"hidden"===document.visibilityState&&(t(i),e&&removeEventListener("visibilitychange",n,!0))},!0)},a=function(t){addEventListener("pageshow",function(e){e.persisted&&t(e)},!0)},r="function"==typeof WeakSet?new WeakSet:new Set,o=function(t,e,n){var i;return function(){e.value>=0&&(n||r.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},u=function(n,r){var u,c=t("CLS",0),s=function(t){t.hadRecentInput||(c.value+=t.value,c.entries.push(t),u())},f=e("layout-shift",s);f&&(u=o(n,c,r),i(function(){f.takeRecords().map(s),u()}),a(function(){c=t("CLS",0),u=o(n,c,r)}))},c=-1,s=function(){i(function(t){var e=t.timeStamp;c=e},!0)},f=function(){return c<0&&((c=self.webVitals.firstHiddenTime)===1/0&&s(),a(function(){setTimeout(function(){c="hidden"===document.visibilityState?0:1/0,s()},0)})),{get timeStamp(){return c}}},d=function(n,i){var u,c=f(),s=t("FCP"),d=e("paint",function(t){"first-contentful-paint"===t.name&&(d&&d.disconnect(),t.startTime<c.timeStamp&&(s.value=t.startTime,s.entries.push(t),r.add(s),u()))});d&&(u=o(n,s,i),a(function(e){s=t("FCP"),u=o(n,s,i),requestAnimationFrame(function(){requestAnimationFrame(function(){s.value=performance.now()-e.timeStamp,r.add(s),u()})})}))},m=function(n,u){var c,s=f(),d=t("FID"),m=function(t){t.startTime<s.timeStamp&&(d.value=t.processingStart-t.startTime,d.entries.push(t),r.add(d),c())},v=e("first-input",m);c=o(n,d,u),v&&i(function(){v.takeRecords().map(m),v.disconnect()},!0),v||window.webVitals.firstInputPolyfill(m),a(function(){d=t("FID"),c=o(n,d,u),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(m)})},v=function(n,u){var c,s=f(),d=t("LCP"),m=function(t){var e=t.startTime;e<s.timeStamp&&(d.value=e,d.entries.push(t)),c()},v=e("largest-contentful-paint",m);if(v){c=o(n,d,u);var l=function(){r.has(d)||(v.takeRecords().map(m),v.disconnect(),r.add(d),c())};["keydown","click"].forEach(function(t){addEventListener(t,l,{once:!0,capture:!0})}),i(l,!0),a(function(e){d=t("LCP"),c=o(n,d,u),requestAnimationFrame(function(){requestAnimationFrame(function(){d.value=performance.now()-e.timeStamp,r.add(d),c()})})})}},l=function(e){var n,i=t("TTFB");n=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();i.value=i.delta=t.responseStart,i.entries=[t],e(i)}catch(t){}},"complete"===document.readyState?setTimeout(n,0):addEventListener("pageshow",n)};this.getCLS=u;this.getFCP=d;this.getFID=m;this.getLCP=v;this.getTTFB=l;var processCLS=function(event){dataObject.setWebVitalsData("cls",event.value)};this.getCLS(processCLS,true);var processFCP=function(event){dataObject.setWebVitalsData("fcp",parseInt(event.value))};this.getFCP(processFCP,true);var processFID=function(event){dataObject.setWebVitalsData("fid",parseInt(event.value))};this.getFID(processFID,true);var processLCP=function(event){dataObject.setWebVitalsData("lcp",parseInt(event.value))};this.getLCP(processLCP,true);var processTTFB=function(event){dataObject.setWebVitalsData("ttfb",parseInt(event.value))};this.getTTFB(processTTFB,true)}
/** @preserve
version 2.2.1, 11.08.2021
*/function _YourcxStorage(){var config={sessionKey:"_yourcx_session",mode:"local",xDomainUrl:null,preload:[],obj:null};var iframe=null,cachedData={},callbacks={},multiCallbacks=[],that=this,xDomainReady=false,preloadCount=0,checkPreload=true;var myLocalStorage=null;this.ready=false;if(arguments.length>=1)for(var i in arguments[0])config[i]=arguments[0][i];if(!arguments.callee._idNum)arguments.callee._idNum=1;else++arguments.callee._idNum;var thisId="yourcx_storage_"+arguments.callee._idNum;this.setS=function(_key,_value){var vars=this.get(this.key);if(!vars)vars={time:(new Date).getTime()/1e3,data:{}};else vars.time=(new Date).getTime()/1e3;vars.data[_key]=_value;this.set(config.sessionKey,vars)};this.getS=function(_key,_updateTime){var updateTime=_updateTime||true;var vars=this.get(config.sessionKey);var time=(new Date).getTime()/1e3;if(!vars)return null;if(time-vars.time>30*60){this.del(this.key);return null}if(updateTime){vars.time=(new Date).getTime()/1e3;this.set(this.key,vars)}if(_undef(vars.data[_key]))return null;return vars.data[_key]};this.supported=function(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(e){return false}};var sendMessage=function(_func,_key,_val,_type){if(!_undef(callbacks[_key])){if(callbacks[_key].length>1)return}_val=_val||null;_type=_type||"storage";var data={type:_type,key:_key,value:_val,func:_func,id:thisId};if(config.mode=="local")setTimeout(function(){myLocalStorage.postMessage(JSON.stringify(data),config.xDomainUrl)},0);else if(iframe&&iframe.contentWindow)iframe.contentWindow.postMessage(JSON.stringify(data),config.xDomainUrl)};var onMessage=function(event){var key=null,i,j,foundAll,tmpValues,removeMultiCallbacksElements=[];if(config.mode!="local"){if(!event.origin||event.origin=="null")return;var originHostname=event.origin.split("://")[1].split(":")[0].split("/")[0];var xDomainHostname=config.xDomainUrl.split("://")[1].split(":")[0].split("/")[0];if(originHostname!=xDomainHostname)return}var msg="";try{msg=JSON.parse(event.data)}catch(e){return}if(!msg)return;if(_undef(msg.type)||msg.type!="storage"&&msg.type!="storage_general"&&msg.type!="user_id"&&msg.type!="check.localStorage")return;if(_undef(msg.id)||msg.id!=thisId)return;if(_undef(msg.key)||msg.key==null)return;if(msg.type=="storage_general")msg.key="general."+msg.key;if(typeof msg.value==="object")cachedData[msg.key]=msg.value;else cachedData[msg.key]=JSON.parse(msg.value);if(!that.ready&&checkPreload){var size=0,key=null;for(key in cachedData){if(cachedData.hasOwnProperty(key))size++}if(size>=preloadCount){that.ready=true;config.obj.storageInit()}}if(!_undef(callbacks[msg.key])){for(var i=0;i<callbacks[msg.key].length;i++){callbacks[msg.key][i](cachedData[msg.key])}delete callbacks[msg.key]}for(i=0;i<multiCallbacks.length;i++){foundAll=true;tmpValues={};for(j=0;j<multiCallbacks[i].keys.length;j++){if(_undef(cachedData[multiCallbacks[i].keys[j]])){foundAll=false;break}else tmpValues[multiCallbacks[i].keys[j]]=cachedData[multiCallbacks[i].keys[j]]}if(foundAll){multiCallbacks[i].callback(tmpValues);removeMultiCallbacksElements.push(i)}}removeMultiCallbacksElements.reverse();for(i=0;i<removeMultiCallbacksElements.length;i++)multiCallbacks.splice(removeMultiCallbacksElements[i],1)};var setLocal=function(_key,_value,_sendMessage){var val=JSON.stringify(_value);localStorage.setItem(_key,val)};var delLocal=function(_key){localStorage.removeItem(_key)};var getLocal=function(_key,_callback){return JSON.parse(localStorage.getItem(_key))};var setXDomain=function(_key,_value,_sendMessage){if(_undef(_sendMessage))_sendMessage=true;cachedData[_key]=_value;if(_sendMessage)sendMessage("set",_key,_value)};var delXDomain=function(_key){if(!_undef(cachedData[_key]))delete cachedData[_key];sendMessage("del",_key)};var getXDomain=function(_key,_callback,_omitCache){if(_undef(_omitCache))_omitCache=false;if(!_omitCache&&!_undef(cachedData[_key])){if(_callback)_callback(cachedData[_key]);return cachedData[_key]}if(!xDomainReady){config.preload.push({key:_key,callback:_callback});return}addCallback(_key,_callback);sendMessage("get",_key)};var getMultiXDomain=function(_keys,_callback,_omitCache){if(_undef(_omitCache))_omitCache=false;if(!_omitCache){var foundAll=true;var tmpValues={};for(var i=0;i<_keys.length;i++){if(_undef(cachedData[_keys[i]])){foundAll=false;break}else tmpValues[_keys[i]]=cachedData[_keys[i]]}if(foundAll){if(_callback)_callback(tmpValues);return tmpValues}}if(!xDomainReady){config.preload.push({keys:_keys,callback:_callback});return}if(!_undef(_callback)){multiCallbacks.push({keys:_keys,callback:_callback});for(var i=0;i<_keys.length;i++)addCallback(_keys[i])}for(var i=0;i<_keys.length;i++){sendMessage("get",_keys[i])}};this.initLocal=function(){myLocalStorage=new _YourcxLocalStorage(that);this.set=setXDomain;this.get=getXDomain;this.getMulti=getMultiXDomain;this.del=delXDomain;this.processLocalMessage=onMessage;config.mode="local"};this.getMultiCached=function(_keys){var tmpValues={};for(var i=0;i<_keys.length;i++){if(_undef(cachedData[_keys[i]])){tmpValues[_keys[i]]=null}else tmpValues[_keys[i]]=cachedData[_keys[i]]}return tmpValues};this.getUserId=function(_callback){if(!_undef(cachedData["user_id"])){if(_callback)_callback(cachedData["user_id"]);return cachedData["user_id"]}addCallback("user_id",_callback);sendMessage("user_id","user_id",null,"user_id")};this.getGeneral=function(_key,_callback){if(!_undef(cachedData["general."+_key])){if(_callback)_callback(cachedData["general."+_key]);return cachedData["general."+_key]}addCallback("general."+_key,_callback);sendMessage("get",_key,null,"storage_general")};this.setGeneral=function(_key,_value){cachedData["general."+_key]=_value;sendMessage("set",_key,_value,"storage_general")};this.sendEvent=function(_key,_val){sendMessage("event",_key,_val,"event")};var xDomainOnLoadCallback=function(hasLocalStorageAccess){if(!hasLocalStorageAccess){that.initLocal()}checkPreload=true;that.xDomainPreload()};var xDomainOnLoad=function(){addCallback("check.localStorage",xDomainOnLoadCallback);checkPreload=false;sendMessage("check.localStorage","check.localStorage",null,"check.localStorage")};this.xDomainPreload=function(){var i,key,preloadKeys={},j;if(!config.preload.length){that.ready=true;config.obj.storageInit()}xDomainReady=true;for(i=0;i<config.preload.length;i++){key=config.preload[i];if(typeof key==="object"){if(!_undef(key.key))preloadKeys[key.key]=1;else for(j=0;j<key.keys.length;j++)preloadKeys[key.keys[j]]=1}else preloadKeys[key]=1}for(key in preloadKeys){if(preloadKeys.hasOwnProperty(key))++preloadCount}for(i=0;i<config.preload.length;i++){key=config.preload[i];if(typeof key==="object"){if(!_undef(key.key))getXDomain(key.key,key.callback);else getMultiXDomain(key.keys,key.callback)}else getXDomain(key)}};function addCallback(_key,_callback){if(_undef(callbacks[_key]))callbacks[_key]=[];if(!_undef(_callback)){callbacks[_key].push(_callback)}else{callbacks[_key].push(function(){})}}if(config.mode=="xdomain"&&!config.xDomainUrl)config.mode="local";if(config.mode=="xdomain"){iframe=document.createElement("iframe");if(window.addEventListener){window.addEventListener("message",onMessage,false)}else if(window.attachEvent){window.attachEvent("onmessage",onMessage)}iframe.src=config.xDomainUrl;if(!iframe.src){iframe=document.createElementNS("http://www.w3.org/1999/xhtml","iframe");iframe.src=config.xDomainUrl}iframe.style.position="absolute";iframe.style.left=iframe.style.top="-999px";iframe.style.display="none";iframe.onload=xDomainOnLoad;document.body.appendChild(iframe);this.set=setXDomain;this.get=getXDomain;this.getMulti=getMultiXDomain;this.del=delXDomain}if(config.mode=="local"){this.initLocal()}}function _YourcxLocalStorage(_source){var domainKey=null;var eventTimer=null;var hasLocalStorageAccess=true;var storagePrefix="yourcx_";var storageObject="yourcx_storage";var sourceObject=_source;var domainTranslation={};var generalDataInit={geolocation:{longitude:0,altitude:0,accuracy:0,error:null,forceUpdate:true,lastUpdate:null}};var generateGUID=typeof window.crypto!="undefined"&&typeof window.crypto.getRandomValues!="undefined"?function(){var buf=new Uint16Array(8);window.crypto.getRandomValues(buf);var S4=function(num){var ret=num.toString(16);while(ret.length<4){ret="0"+ret}return ret};return S4(buf[0])+S4(buf[1])+"-"+S4(buf[2])+"-"+S4(buf[3])+"-"+S4(buf[4])+"-"+S4(buf[5])+S4(buf[6])+S4(buf[7])}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})};function parseMainDomain(url){var a=document.createElement("a");a.href=url;var parts=a.hostname.split(".");if(parts[0]=="www")parts.shift();if(parts.length>2){if(parts[parts.length-2].length>3)parts.shift()}var domain=parts.join(".");if(typeof domainTranslation[domain]!="undefined")domain=domainTranslation[domain];else{if(typeof domainTranslation["general"]!="undefined"){var i=0,g=null;for(i=0;i<domainTranslation["general"].length;i++){g=domainTranslation["general"][i];if(domain.search(g.pattern)!=-1)domain=g.domain}}}return domain}function updateCounter(){var cnt=JSON.parse(localStorage.getItem(storagePrefix+"storage.counter"));if(!cnt)cnt={count:1,time:(new Date).getTime()};else cnt={count:cnt.count+1,time:(new Date).getTime()};localStorage.setItem(storagePrefix+"storage.counter",JSON.stringify(cnt))}function init(event){var originDomain="_"+parseMainDomain(event.origin);var msg=JSON.parse(event);if(typeof msg.type=="undefined")throw new Exception("undefined type");msg.orig_type=msg.type;if(msg.type.substring(0,7)=="opiniac")msg.type=msg.type.substring(8);switch(msg.type){case"storage":break;case"storage_general":originDomain=".general";break;case"user_id":break;case"check.localStorage":break;case"event":originDomain=".events";break;default:throw new Exception("wrong type")}domainKey="storage"+originDomain;return msg}function processEventTable(){var eventsDomainKey="storage.events";var eventDomainData=getDomainData(eventsDomainKey);if(!eventDomainData)return;if(eventDomainData.length>0){eventDomainData=processEventTableInner(eventDomainData);setDomainData(eventDomainData,false,eventsDomainKey);if(eventTimer){clearTimeout(eventTimer);eventTimer=null}return}if(!eventTimer&&eventDomainData.length){eventTimer=setTimeout(function(){eventDomainData=getDomainData(eventsDomainKey);eventDomainData=processEventTableInner(eventDomainData);setDomainData(eventDomainData,false,eventsDomainKey);eventTimer=null},234)}else return}function processEventTableInner(_data){if(_data.length<1)return _data;if(!window.XMLHttpRequest)return _data;var xhttp;xhttp=new XMLHttpRequest;xhttp.open("POST","https://events.yourcx.io/events/",true);xhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhttp.send("data="+encodeURIComponent(JSON.stringify(_data)));_data=[];return _data}function getDomainData(_domainKey){_domainKey=_domainKey||domainKey;if(!hasLocalStorageAccess||!localStorage)return null;var domainData=localStorage.getItem(storagePrefix+_domainKey);domainData=JSON.parse(domainData);return domainData}function setDomainData(domainData,_updateCounter,_domainKey){_domainKey=_domainKey||domainKey;if(!hasLocalStorageAccess)return;domainData["_last_update"]=(new Date).getTime();localStorage.setItem(storagePrefix+_domainKey,JSON.stringify(domainData));if(_updateCounter)updateCounter()}function setGeneralData(msg){var value=null,domainData;switch(msg.key){case"geolocation":domainKey="storage.general";domainData=getDomainData();value={};if(domainData!=null&&typeof domainData[msg.key]!="undefined")value=domainData[msg.key];if(typeof msg.value["error"]!="undefined"&&msg.value["error"]){if(msg.value["error"].code==1){value.forceUpdate=false;value.lastUpdate=(new Date).getTime()}else{value.forceUpdate=true}value.error=msg.value["error"]}else{if(typeof msg.value["longitude"]!="undefined")value.longitude=msg.value["longitude"];if(typeof msg.value["latitude"]!="undefined")value.latitude=msg.value["latitude"];if(typeof msg.value["accuracy"]!="undefined"){if(parseInt(msg.value["accuracy"])<parseInt(value.accuracy)||!value.accuracy){value.accuracy=msg.value["accuracy"];value.forceUpdate=true;if(parseInt(value.accuracy)<200)value.forceUpdate=false}else value.forceUpdate=false}else{value.forceUpdate=true}value.lastUpdate=(new Date).getTime()}domainData[msg.key]=value;setDomainData(domainData,false,domainKey);break}}function handleRequest(event){var msg=null,domainData=null,value=null,tmpKey=null;domainKey=null;msg=init(event);if(!hasLocalStorageAccess||!localStorage)return false;switch(msg.func){case"user_id":value=localStorage.getItem(storagePrefix+"storage.user_id");if(!value){value=generateGUID();setDomainData(value,false,"storage.user_id")}setTimeout(function(){sourceObject.processLocalMessage({data:JSON.stringify({type:msg.orig_type,id:msg.id,key:msg.key,value:value}),origin:""})},0);break;case"get":domainData=getDomainData();tmpKey=msg.key;if(tmpKey.substring(0,7)=="opiniac")tmpKey=tmpKey.substring(8);else if(tmpKey=="_opiniac_analytics")tmpKey="_analytics";if(domainData!=null&&typeof domainData[tmpKey]!="undefined")value=domainData[tmpKey];setTimeout(function(){sourceObject.processLocalMessage({data:JSON.stringify({type:msg.orig_type,id:msg.id,key:msg.key,value:value}),origin:""})},0);break;case"set":if(msg.type=="storage_general")setGeneralData(msg);else{domainData=getDomainData();tmpKey=msg.key;if(tmpKey.substring(0,7)=="opiniac")tmpKey=tmpKey.substring(8);else if(tmpKey=="_opiniac_analytics")tmpKey="_analytics";if(!domainData)domainData={};if(Array.isArray(domainData))domainData={};domainData[tmpKey]=msg.value;setDomainData(domainData,true)}break;case"del":domainData=getDomainData();if(!domainData)return;domainData[msg.key]=null;delete domainData[msg.key];setDomainData(domainData,true);break;case"event":domainData=getDomainData();if(!domainData)domainData=[];domainData.push({key:msg.key,val:msg.value});setDomainData(domainData,false);processEventTable();break}if(msg.func!="event")processEventTable()}this.postMessage=function(data,domain){handleRequest(data)};domainKey="storage.general";generalData=getDomainData();if(!generalData)setDomainData(generalDataInit,false);domainKey="storage.user_id";generalData=getDomainData();if(!generalData)setDomainData(generateGUID(),false,"storage.user_id")}

// version 1.5.3, 02.02.2016
var _yourcx_transport={listeners:{},mode:"",inited:{send:!1,receive:null},receiverId:null,topLocation:"",hashTickInterval:300,firstSend:!0,hashTickDelay:0,senderObj:top,send:function(e){},__init:function(e){var i=this;if("send"==e){if(this.inited.send)return;this.inited.send=!0}else{if(this.inited.receive)return;this.inited.receive=!0}"function"==typeof window.postMessage||"object"==typeof window.postMessage?"send"==e?this.send=this.postMessageSend:this.eventListener(window,"message",function(e){i.postMessageReceive(e)}):(this.getTopLocation(),"send"==e?this.send=this.hashSend:setInterval(function(){i.hashMonitor()},this.hashTickInterval))},initSender:function(e){if(e=e||null)this.receiverId=e;else{var i=document.location.hash;if(i&&("#"==i.charAt(0)&&(i=i.substr(1)),i.indexOf("|")>-1&&(i=i.split("|"),i=i[0]),this.receiverId=i,"yourcx.insert_insert"!=this.receiverId)){var t=this.receiverId.match(/\d+$/g);t&&(this.hashTickDelay=parseInt(t[0])*this.hashTickInterval*1.1)}}this.__init("send")},registerListener:function(e,i){this.listeners[e]=i,this.__init("receive")},hashSend:function(e){if(this.receiverId){if(this.firstSend&&this.hashTickDelay){this.firstSend=!1;var i=this;return void setTimeout(function(){i.hashSend(e)},this.hashTickDelay)}parent.location=this.topLocation+"#"+this.serializeMessageObject(e)}},hashMonitor:function(){var e,i=window.location.hash;if(i&&i.length>2&&("#"==i.charAt(0)&&(i=i.substr(1)),e=this.deserializeMessage(i),e.receiverId)){if(window.location.hash="_","undefined"==typeof this.listeners[e.receiverId])return;this.listeners[e.receiverId].processMessage(e.data)}},postMessageSend:function(e){this.receiverId&&this.senderObj.postMessage(this.serializeMessageObject(e),"*")},postMessageReceive:function(e){var i=this.deserializeMessage(e.data);"undefined"!=typeof this.listeners[i.receiverId]&&this.listeners[i.receiverId].processMessage(i.data)},serializeMessageObject:function(e){var i={yourcx:"yourcx",receiverId:this.receiverId,data:{}};for(var t in e)i.data[t]=e[t];return JSON.stringify(i)},deserializeMessage:function(e){var i="",t={receiverId:null,data:{}};try{i=JSON.parse(e)}catch(s){return t}return"undefined"==typeof i.yourcx||"yourcx"!=i.yourcx?t:(t.receiverId=i.receiverId,t.data=i.data,t)},eventListener:function(e,i,t){e.addEventListener?e.addEventListener(i,t,!1):e.attachEvent&&e.attachEvent("on"+i,t)},getTopLocation:function(){var e=document.location.hash,i="";if(e)"#"==e.charAt(0)&&(e=e.substr(1)),e.indexOf("|")>-1&&(e=e.split("|"),e=e[1]),i=decodeURIComponent(e),i.indexOf("#")>-1&&(i=i.substr(0,i.indexOf("#")));else{var t=document.location.pathname.split("/");""==t[0]&&t.shift(),t.shift(),t.shift();for(var s={},n=null,r=0;r<t.length;r++)r%2?s[n]=t[r]:n=t[r];"undefined"!=typeof s.u&&(i=decodeURIComponent(s.u),i.indexOf("#")>-1&&(i=i.substr(0,i.indexOf("#"))))}this.topLocation=i}};
function Observers(){var callbacks={};return{fire:function(key,value){if(callbacks[key]){var async=callbacks[key].async;callbacks[key].callbacks.forEach(function(callback){if(async){Promise.resolve().then(function(){callback(value)}).catch(ycxErrorHandler)}else{try{callback(value)}catch(error){ycxErrorHandler(error)}}})}},on:function(key,callbackToAdd,async=false){if(typeof callbackToAdd!=="function"){console.error("YourCX Observers.on: callbackToAdd must be a function");return}if(!callbacks[key]){callbacks[key]={async:async,callbacks:[]}}callbacks[key].callbacks.push(callbackToAdd)},register:function(key,async=false){if(callbacks[key])callbacks[key].async=async;else callbacks[key]={async:async,callbacks:[]}},off:function(key,callbackToRemove){if(callbacks[key]){callbacks[key].callbacks=callbacks[key].callbacks.filter(function(callback){return callback!==callbackToRemove});if(callbacks[key].callbacks.length===0){delete callbacks[key]}}},clean:function(key){if(callbacks[key]){delete callbacks[key]}}}}function MutationObservers(_generalObserver){var observers={};var generalObserver=_generalObserver;return{observe:function(name,target,callback,config){if(!_undef(observers[name])){generalObserver.on("mutationObserver."+name,callback);return}var mObserver=new MutationObserver(function(iName){return function(mutations){mutations.forEach(function(mutation){generalObserver.fire("mutationObserver."+iName,mutation)})}}(name));config=config||{attributes:true,childList:true,characterData:true};observers[name]={config:config,target:target,observer:mObserver};mObserver.observe(target,config);generalObserver.on("mutationObserver."+name,callback)},disconnect:function(name){if(!_undef(observers[name])){generalObserver.off("mutationObserver."+name,null);delete observers[name]}}}}function ArrayObserver(_generalObserver){var observers={};var generalObserver=_generalObserver;return{observe:function(_observedArray,_name,_mode,_observeEarlierEntries){_observeEarlierEntries=typeof _observeEarlierEntries!=="undefined"?_observeEarlierEntries:true;generalObserver.register("arrayObserver."+_name,true);switch(_mode){case"timeout":var func=function(){if(_observedArray.length!=observers[_name].targetLength){for(var i=observers[_name].targetLength;i<_observedArray.length;i++){generalObserver.fire("arrayObserver."+_name,_observedArray[i])}observers[_name].targetLength=_observedArray.length}var timeoutId=setTimeout(func,1e3);observers[_name].timeoutId=timeoutId};var timeoutId=setTimeout(func,1e3);var targetLength=_observedArray.length;if(_observeEarlierEntries)targetLength=0;observers[_name]={mode:_mode,target:_observedArray,targetLength:targetLength,timeoutId:timeoutId};break;case"push":var originalPush=_observedArray.push,val;if(_observeEarlierEntries){for(var i=0;i<_observedArray.length;i++){generalObserver.fire("arrayObserver."+_name,_observedArray[i])}}_observedArray.push=function(){originalPush.apply(this,arguments);for(var j=0;j<arguments.length;j++)generalObserver.fire("arrayObserver."+_name,arguments[j])};observers[_name]={mode:_mode,target:_observedArray,originalPush:originalPush};break}},disconnect:function(name){if(!_undef(observers[name])){generalObserver.off("arrayObserver."+name,null);if(observers[name].mode=="push"){observers[name].target.push=observers[name].originalPush}else if(observers[name].mode=="timeout"){if(observers[name].timeoutId)clearTimeout(observers[name].timeoutId);observers[name].timeoutId=null}delete observers[name]}}}}function YourcxBase(){var params={s:{},c:{},a:{},answers:{},ts:{}},that=this,blockResize=false,screenshot=null,surveyResizeMessage=null,blockFireSurvey=false;this.config={surveyMode:"window",welcome:{enable:false,mode:"welcome",submode:"right",verticalMode:"bottom",addFooter:true,followUser:{enable:false,timeSeconds:60*30},style:{width:0,height:300,sideMargin:0,logoImage:"",addCss:"",main:{bg:"00b050",bo:"1px solid #4ca84c"},head:{c:"000000",bg:"eeeeee"},body:{c:"ffffff",bg:"transparent",padding:"20px"},buttons:{padding:"10px"},button:{c:"111111",bg:"eeeeee",hc:"000000",hbg:"ffffff"},footer:{c:"eeeeee",bg:"00b050"}},buttons:{1:{image:"",text:"OceÅ„ serwis",hash:"",mode:"link"},2:{image:"",text:"Przykro mi, nie mogÄ™!",mode:"close"}},texts:{head:"PomÃ³Å¼ nam w rozwoju!",main:'<div class="$CLASSBASE$body_in"><div class="$CLASSBASE$body_in1">Witaj,</div><div class="$CLASSBASE$body_in2">Czy moÅ¼esz nam pomÃ³c ulepszyÄ‡ nasz serwis?</div><div class="$CLASSBASE$body_in3">Ankieta zajmie Ci tylko chwilÄ™.</div></div>',buttons:'<div class="$CLASSBASE$buttons"><a class="$CLASSBASE$button $CLASSBASE$button1"></a><a class="$CLASSBASE$button $CLASSBASE$button2"></a></div>',mainBottom:'ChcielibyÅ›my poznaÄ‡ <span style="font-weight: bold;">TwojÄ… opiniÄ™</span> na temat serwisu, pomoÅ¼esz nam?',footer:"Badanie zapewnia"}},mouse:{topCatchMargin:10,speed:{analyse:true,minSpeed:500}},blockDaysAfterSurveyShown:28,screenshot:{},mobile:{},display:{stickToTop:false,minHeight:440,addHeight:0,startWidth:600},blockades:{enable:true,product:{set:true,check:true},mode:"product",surveys:{daysAfterShown:21,daysAfterFirstAnswer:24,daysAfterFilled:28},probabilityBlockMode:"visit"},postpone:{enable:true,autoClose:false,maxPostponeMinutes:60,globalMode:false,blockade:"onRestore",allowWelcomeForPostponed:false,methods:{widget:{enable:true,mode:"welcome",submode:"right",verticalMode:"bottom",style:{width:0,sideMargin:20,logoImage:"",main:{bg:"ffffff",bo:"1px solid #333333"},head:{c:"000000",bg:"eeeeee"},body:{c:"000000",bg:"ffffff",padding:"0px"},buttons:{padding:"0px 10px 0px 0px"},button:{c:"000000",bg:"eeeeee",hc:"ffffff",hbg:"222222"},footer:{c:"000000",bg:"eeeeee"}},addFooter:false,texts:{head:"",main:"",buttons:'<div class="$CLASSBASE$buttons">                 <a class="$CLASSBASE$button $CLASSBASE$button1"></a>               </div>'},buttons:{1:{image:"",text:"WrÃ³Ä‡ do badania!",hash:"",mode:"link"}}},quit:{enable:true}},display:{changePostponedSurveyMode:false,postponedSurveyMode:"layer"}},texts:{closeButton:"Zamknij",iframe:"Badanie doÅ›wiadczeÅ„"},ignoreClean:false};this.od={hash:null,events:{},storagePrefix:"",mouse:{move:{lastMoves:[]},out:{noMouseMoveOut:false,timeOutHandler:null,timeOnPageOut:false}},touch:{scroll:{startTime:null,endTime:null,scrollPos:null},out:{timeOutHandler:null}},startedAsPostponed:false,surveyInputParams:{},hasShownWelcome:false,activeTimeouts:[]};this.checkBeforeFireSurvey=null;this.runInit=null;this.clean=function(){};this.productPreRunCheck=function(surveys){return true};this.addParamInternal=function(key,val,scope){scope=scope||"s";if(scope=="s"&&key in{s:"",c:"",r:"",u:"",t:"",td:"",p:""})return this;if(_undef(params[scope]))params[scope]={};params[scope][key]=val;return this};this.addSurveyInputParams=function(key,val){var obj={};obj[key]=val;this.od.surveyInputParams=fExtend(this.od.surveyInputParams,obj);return this};this.getParamInternal=function(key,scope){scope=scope||"s";if(_undef(params[scope])||_undef(params[scope][key]))return null;return params[scope][key]};this.setSurveyAnswer=function(question_num,val){params.answers[question_num]=val;return this};this.segment=function(segment){return this.addParamInternal("segment",segment)};this.getParams=function(){return params};this.cssClass={reg:function(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")},has:function(elem,c){return that.cssClass.reg(c).test(elem.className)},add:function(elem,c){if(!that.cssClass.has(elem,c)){elem.className=elem.className+" "+c}},remove:function(elem,c){elem.className=elem.className.replace(that.cssClass.reg(c)," ")}};this.page={width:function(){return document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:window.innerWidth!=null?window.innerWidth:document.body!=null?document.body.clientWidth:null},height:function(){return window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:null},allHeight:function(){var body=document.body,html=document.documentElement;if(!body||!html)return 0;return height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)},scrollTop:function(){if(window.scrollY!==undefined){return window.scrollY}return document.documentElement.scrollTop||document.body.scrollTop||0}};this._={getColor:function(color){if(color&&color.length&&color.substring(0,1)=="#")return color.substring(1);else return color},getMutationObserver:function(){return _mutationObserver}};this.storageDel=function(_key){_storage.del(that.od.storagePrefix+_key)};this.storageSet=function(_key,_val,_options){_options=fExtend({},{_omitStoragePrefix:true},_options);var prefix=that.od.storagePrefix;if(_options._omitStoragePrefix)prefix="";_storage.set(prefix+_key,_val)};this.storageSetTimed=function(_key,_val,_minutes,_options){this.storageSet(_key,{value:_val,ttl:_minutes*60*1e3+(new Date).getTime()},_options)};this.storageGet=function(_key,_callback,_options){_options=fExtend({},{_omitCache:false,_omitStoragePrefix:true},_options);var prefix=that.od.storagePrefix;if(_options._omitStoragePrefix)prefix="";if(typeof _key=="string"){_storage.get(prefix+_key,_callback,_options._omitCache)}else{var tmp=[];for(var i=0;i<_key.length;i++){tmp.push(prefix+_key[i])}_storage.getMulti(tmp,_callback,_options._omitCache)}};this.storageGetTimed=function(_key,_callback,_options){var func=function(_obj){var val=that.__storageGetTimedValue(_obj);if(typeof _callback!="undefined")_callback(val)};this.storageGet(_key,func,_options)};this.__storageGetTimedValue=function(_obj){var val=null;if(!_obj||typeof _obj!="object"||typeof _obj["value"]=="undefined"||typeof _obj["ttl"]=="undefined")val=null;else if(_obj["ttl"]>=(new Date).getTime())val=_obj["value"];return val};this.addEventListener=function(obj,event,fn,useCapture,simple){useCapture=useCapture||false;simple=simple||false;if(typeof this.od.events[fn]!="undefined"&&typeof this.od.events[fn].cnt!="undefined"){++this.od.events[fn].cnt;return false}this.od.events[fn]={fn:function(e){var ret=null;if(typeof fn=="function")ret=fn(e);else ret=that[fn](e);if(ret)return ret;return false},cnt:1,useCapture:useCapture};if(simple)this.od.events[fn].fn=that[fn];if(obj.addEventListener){obj.addEventListener(event,this.od.events[fn].fn,useCapture)}else if(obj.attachEvent){obj.attachEvent("on"+event,this.od.events[fn].fn,useCapture)}else this.od.events[fn]=null;return true};this.removeEventListener=function(obj,event,fn,forceRemove){forceRemove=forceRemove||false;if(typeof this.od.events[fn]!="undefined"&&typeof this.od.events[fn].cnt!="undefined"){if(--this.od.events[fn].cnt>0&&!forceRemove)return false;if(obj.removeEventListener)obj.removeEventListener(event,this.od.events[fn].fn,this.od.events[fn].useCapture);else if(obj.detachEvent)obj.detachEvent("on"+event,this.od.events[fn].fn,this.od.events[fn].useCapture);this.od.events[fn]=null;delete this.od.events[fn];return true}return false};this.touchStartEventListener=function(e){var localConfig;localConfig=this.config.methods.noScrollTouchOut;if(this.od.touch.out.timeOutHandler){clearTimeout(this.od.touch.out.timeOutHandler);delete this.od.touch.out.timeOutHandler;this.od.touch.out.timeOutHandler=null}this.od.touch.scroll.scrollPos=this.page.scrollTop();this.od.touch.scroll.startTime=(new Date).getTime();if(localConfig.minTimeWithoutMovement&&this.od.touch.scroll.endTime){if(this.od.touch.scroll.startTime-this.od.touch.scroll.endTime<localConfig.minTimeWithoutMovement*1e3||this.od.touch.scroll.startTime-this.od.touch.scroll.endTime>localConfig.maxTimeWithoutMovement*1e3)this.od.touch.scroll.startTime=this.od.touch.scroll.startTime-localConfig.maxTouchTime-1e3}};this.touchEndEventListener=function(e){var scrollEnd=this.page.scrollTop(),distanceScrolled,direction,touchTime,localConfig,fireSurvey="touchScroll";if(!this.od.touch.scroll.scrollPos)return;localConfig=this.config.methods.noScrollTouchOut;distanceScrolled=Math.abs(scrollEnd-this.od.touch.scroll.scrollPos);direction=scrollEnd-this.od.touch.scroll.scrollPos>0?"down":"up";touchTime=(new Date).getTime()-this.od.touch.scroll.startTime;this.od.touch.scroll.endTime=(new Date).getTime();if(touchTime>localConfig.maxTouchTime)return;if(direction==="up"&&Math.abs(distanceScrolled/touchTime*1e3)>localConfig.minScrollSpeed&&distanceScrolled>localConfig.minScrollDistance&&distanceScrolled<localConfig.maxScrollDistance){if(localConfig.probability!=1&&localConfig.probability<Math.random())return;if(localConfig.startDelay){this.od.touch.out.timeOutHandler=setTimeout(function(){that.fireSurvey(fireSurvey)},localConfig.startDelay*1e3)}else{this.fireSurvey(fireSurvey)}}};this.initScreenshot=function(){if(screenshot){screenshot=null}var surveyBlock="yourcx_layer";switch(this.config.surveyMode){case"layer":surveyBlock="yourcx_layer";break;case"slide":surveyBlock="yourcx_slide";break;case"corner":surveyBlock="yourcx_corner";break}screenshot=new YourcxScreenshot(this,surveyBlock,"yourcx_bg",this.config.screenshot);blockResize=true};this.screenshotForceClose=function(){this.removeSurvey();blockResize=false;if(screenshot){screenshot=null}};this.closeScreenshot=function(_screenshot_data){_yourcx_transport.initSender("surveyScManager");var frame=document.getElementById(this.iframeId);_yourcx_transport.senderObj=frame.contentWindow;var html=(new XMLSerializer).serializeToString(document.doctype)+document.documentElement.outerHTML;_yourcx_transport.send({type:"setScData",screenshot:_screenshot_data,html:html,mode:"manual"});screenshot=null;blockResize=false};this.getPageHtml=function(){_yourcx_transport.initSender("surveyScManager");var frame=document.getElementById(this.iframeId);_yourcx_transport.senderObj=frame.contentWindow;var elements={yourcx_bg:null,yourcx_layer:null,yourcx_slide:null,yourcx_corner:null},i,elem;for(i in elements){if(!i)continue;elem=document.getElementById(i);if(elem){elements[i]={elem:elem,display:elem.style.display};elem.style.display="none"}}var html=(new XMLSerializer).serializeToString(document.doctype)+document.documentElement.outerHTML;for(i in elements){if(!i)continue;if(elements[i])elements[i].elem.style.display=elements[i].display}var _screenshot_data=encodeURIComponent(window.JSON.stringify({rectangles:{},img:null,mode:"auto"}));_yourcx_transport.send({type:"setScData",screenshot:_screenshot_data,html:html})};this.onResize=function(){if(!blockResize)that.resize(surveyResizeMessage)};this.processMessage=function(message){var loader=document.getElementById("yourcx_loader");if(!_undef(message.type)){switch(message.type){case"resize":if(loader)loader.style.display="none";surveyResizeMessage=message;this.resize(message);break;case"close":this.removeSurvey();break;case"surveyFilled":_observer.fire("surveyFilled."+this.od.hash,message.data);_analytics.userDataEvent("surveyFilled",{cid:this.od.hash});break;case"surveyReceivedFirstAnswer":_analytics.userDataEvent("surveyReceivedFirstAnswer",{cid:this.od.hash});break;case"initPageScreenshot":this.initScreenshot();break;case"getPageHtml":this.getPageHtml();break;case"results":_observer.fire("receiveResult",{results:message.results,rules:message.rules});break;case"event":if(_undef(message.data)||_undef(message.eventType))break;_observer.fire(message.eventType+"."+this.od.hash,message.data);_observer.fire(message.eventType,message.data);break;case"postpone":this.postponeSurvey(message);break}}};this.postponeSurvey=function(message){if(!that.config.postpone.enable)return;if(!_undef(message.tmp_result_id)){that.storageGet("postponed surveys",function(data){if(!data)data={};var analyticsData=_analytics.getData();data[that.od.hash]={time:(new Date).getTime(),tmp_result_id:message.tmp_result_id,page:analyticsData.visit.page};if(that.config.postpone.globalMode){if(_undef(data["global"]))data["global"]={};data["global"][that.od.hash]={time:(new Date).getTime(),surveyConfig:that.surveyConfigOrg,maxPostponeMinutes:that.config.postpone.maxPostponeMinutes,page:analyticsData.visit.page}}that.storageSet("postponed surveys",data,{_omitStoragePrefix:true})},{_omitCache:true,_omitStoragePrefix:true});_observer.fire("postponeSurvey",that.od.hash)}if(that.config.postpone.autoClose)this.removeSurvey()};this.removeSurvey=function(){switch(this.config.surveyMode){case"insert":this.removeEventListener(window,"resize","onResize");break;case"layer":var bg=document.getElementById("yourcx_bg");if(bg)document.body.removeChild(bg);var layer=document.getElementById("yourcx_layer");if(layer)document.body.removeChild(layer);this.removeEventListener(window,"resize","onResize");that.cssClass.remove(document.body,"yourcxBlockOverflow");break;case"slide":this.cssClass.remove(document.body,"yourcxSlide");var slide=document.getElementById("yourcx_slide");that.resize=function(){};switch(this.config.pictogramMode){case"left_bottom":case"left":slide.style.left="-"+slide.style.width+"px";break;case"right_bottom":case"right":slide.style.right="-"+slide.style.width+"px";break}slide.style.width="0px";setTimeout(function(){document.body.removeChild(slide);var bg=document.getElementById("yourcx_bg");if(bg)document.body.removeChild(bg)},500);this.removeEventListener(window,"resize","onResize");this.cssClass.remove(document.body,"yourcxBlockOverflow");break;case"corner":var slide=document.getElementById("yourcx_corner");that.resize=function(){};slide.style.width="0px";slide.style.height="0px";setTimeout(function(){document.body.removeChild(slide)},500);this.removeEventListener(window,"resize","onResize");break}_observer.fire("postRemoveSurvey."+this.od.hash,{mode:this.config.surveyMode})};this.resizeLayer=function(message){var fr=document.getElementById(this.iframeId);var layer=document.getElementById("yourcx_layer");var bg=document.getElementById("yourcx_bg");var pageHeight=this.page.height();if(!message)return;if(layer.style.display!="block")layer.style.display="block";if(bg.style.display!="block"){bg.style.display="block";that.cssClass.add(document.body,"yourcxBlockOverflow")}if(!_undef(message.mobile)&&message.mobile==true){layer.style.top=6+"px";fr.style.width="100%";fr.style.height="100%";layer.style.width="100%";layer.style.height="100%";layer.style.left="0%";this.cssClass.add(layer,"yourcx-mobile")}else{if(!_undef(message.width)){var width=message.width;if(width>this.page.width()-20)width=this.page.width()-20;layer.style.left=(this.page.width()-width)/2+"px";layer.style.width=width+"px";fr.style.width=width-20+"px"}if(_undef(message.height))message.height=this.config.display.minHeight;var height=message.height;if(!_undef(message.scrollHeight)&&message.scrollHeight>height)height=message.scrollHeight;if(height<this.config.display.minHeight)height=this.config.display.minHeight;height+=this.config.display.addHeight;if(height>this.page.height()-50||this.config.display.stickToTop)height=this.page.height()-50;fr.style.height=height+"px";layer.style.top=pageHeight/2-height/2+"px"}};this.resizeSlide=function(message){var fr=document.getElementById(this.iframeId);var slide=document.getElementById("yourcx_slide");if(slide.style.display!="block")slide.style.display="block";if(typeof message.mobile!="undefined"&&message.mobile==true){fr.style.width="100%";if(_undef(message.height))message.height=this.config.display.minHeight;var height=message.height;if(!_undef(message.scrollHeight)&&message.scrollHeight>height)height=message.scrollHeight;if(height>this.page.height()-50||this.config.display.stickToTop)height=this.page.height()-50;if(height<this.config.display.minHeight)height=this.config.display.minHeight;fr.style.height=height+"px";slide.style.width="100%";slide.style.height=height+"px";switch(this.config.pictogramMode){case"bottom":slide.style.left="15px";break;case"left":case"right":default:slide.style.top="calc(50% - "+parseInt(height/2)+"px)";break}}else{if(!_undef(message.width)){slide.style.width=message.width+"px";fr.style.width=message.width+"px"}if(_undef(message.height))message.height=this.config.display.minHeight;var height=message.height;if(!_undef(message.scrollHeight)&&message.scrollHeight>height)height=message.scrollHeight;if(height>this.page.height()-50||this.config.display.stickToTop)height=this.page.height()-50;if(height<this.config.display.minHeight)height=this.config.display.minHeight;fr.style.height=height+"px";switch(this.config.pictogramMode){case"bottom":slide.style.left="calc(50% - "+parseInt(message.width/2)+"px)";break;case"left":case"right":default:slide.style.top="calc(50% - "+parseInt(height/2)+"px)";break}}};this.resizeCorner=function(message){var fr=document.getElementById(this.iframeId);var corner=document.getElementById("yourcx_corner");if(!_undef(message.mobile)&&message.mobile==true){fr.style.width="100%";fr.style.height="100%";corner.style.width="100%";corner.style.height="100%";corner.style.left="0%";this.cssClass.add(corner,"yourcx-mobile")}if(!_undef(message.height)){var height=message.height;if(!_undef(message.scrollHeight)&&(message.scrollHeight>height||message.scrollHeight+30<height))height=message.scrollHeight;if(height>this.page.height()-20)height=this.page.height()-20;fr.style.height=height+"px";corner.style.height=height+"px"}if(!_undef(message.width)){var width=message.width;if(width>this.page.width()-20){fr.style.width="100%";corner.style.width="100%"}else{fr.style.width=width+"px";corner.style.width=width+"px"}}};this.resizeInsert=function(message){var fr=document.getElementById(this.iframeId);if(!message)return;if(!_undef(message.mobile)&&message.mobile==true){fr.style.width="100%"}else if(typeof message.width!="undefined")fr.style.width=message.width+"px";if(!_undef(message.height)){var height=message.height;if(!_undef(message.scrollHeight)&&message.scrollHeight>height)height=message.scrollHeight;if(height<this.config.display.minHeight)height=this.config.display.minHeight;height+=this.config.display.addHeight;fr.style.height=height+"px"}};this.showSurveySlide=function(){var style=document.createElement("style"),s="",wrap="",slide="",shadow="";style.setAttribute("type","text/css");s+="#yourcx_slide { position: fixed; z-index: 16777271; background-color: #ffffff; transition: all 0.1s; }\n";s+="#yourcx_slide .yourcx_close { display:block; box-sizing:border-box; width: 22px; height: 22px; border-width:3px; border-style: solid; border-color:#ededed; border-radius:100%; background: -webkit-linear-gradient(-45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%), -webkit-linear-gradient(45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%); background-color: #777777; position: absolute; right: 0px; top: -7px; }\n";s+="#yourcx_slide.yourcx-mobile .yourcx_close { width: 26px; height: 26px; right: 10px; top: 0px; }\n";s+="#yourcx_slide .yourcx_close:hover { background-color: #333333; }\n";s+="#yourcx_slide #yourcx_loader { margin-left: 10px; margin-top: 10px; }\n";s+=".yourcxBlockOverflow { overflow: hidden; }\n";var positionRight=0;var positionBottom="inherit";switch(this.config.pictogramMode){case"bottom":wrap="top";slide="bottom";shadow="4px";basePosition="left";positionBottom="calc(50% - 150px)";positionRight=20;break;case"left_bottom":case"left":wrap="right";slide="left";shadow="-4px";positionBottom="calc(50% - 150px)";basePosition="bottom";break;case"right_bottom":case"right":default:wrap="left";slide="right";shadow="4px";positionBottom="calc(50% - 150px)";basePosition="bottom";break}s+="#yourcx_slide.pmr { width: 50px; height: 50px; "+slide+": -50px; }\n";s+="body.yourcxSlide #yourcx_slide.pmr { "+slide+": "+positionRight+"px; box-shadow: rgba(0, 0, 0, 0.498039) 2px 2px 4px 0px;border-radius: 5px; "+basePosition+": "+positionBottom+"}\n";if(style.styleSheet)style.styleSheet.cssText=s;else style.appendChild(document.createTextNode(s));document.getElementsByTagName("head")[0].appendChild(style);var slide=document.createElement("div");slide.setAttribute("id","yourcx_slide");slide.className="pmr";slide.innerHTML='<a href="#" title="'+this.config.texts.closeButton+'" onclick="return false;" class="yourcx_close" /></a><iframe title="'+this.config.texts.iframe+'" id="'+this.iframeId+'" name="'+this.iframeId+'" width="100%" style="height: 0px; background: none transparent scroll repeat 0% 0%;" allowTransparency="true" frameborder="0" border="0"></iframe><img id="yourcx_loader" src="https://static.yourcx.io/survey/images/loader.gif" />';document.body.appendChild(slide);var a=document.getElementById("yourcx_slide").getElementsByTagName("a");for(var i=0;i<a.length;i++)if(this.cssClass.has(a[i],"yourcx_close"))a[i].onclick=function(i){return function(){i.removeSurvey();return false}}(that);document.getElementById(this.iframeId).focus();setTimeout(function(){that.openSurvey("iframe");that.cssClass.add(document.body,"yourcxSlide")},40);document.addEventListener("keydown",function(event){if(event.key==="Escape"){if(that)that.removeSurvey()}})};this.showSurveyCorner=function(){var style=document.createElement("style"),s="",slide="",shadow="";style.setAttribute("type","text/css");s+="#yourcx_corner { bottom: 0px; width: 300px; height: 0px; right: 0px; position: fixed; z-index: 16777271; background-color: #ffffff; overflow: hidden; -webkit-transition: all 0.4s; -moz-transition: all 0.4s; -ms-transition: all 0.4s; -o-transition: all 0.4s; transition: all 0.4s; }\n";s+="#yourcx_corner .yourcx_close { display:block; box-sizing:border-box; width: 22px; height: 22px; border-width:3px; border-style: solid; border-color:#000000; border-radius:100%; background: -webkit-linear-gradient(-45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%), -webkit-linear-gradient(45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%); background-color: #000000; box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5); transition: all 0.3s ease; position: absolute; right: 0px; top: 0px; }\n";s+="#yourcx_corner .yourcx_close:hover { background-color: #777777; }\n";if(_mobile)s+="#yourcx_corner { -webkit-transition: all 0.1s; -moz-transition: all 0.1s; -ms-transition: all 0.1s; -o-transition: all 0.1s; transition: all 0.1s; }\n";switch(this.config.pictogramMode){case"left_bottom":case"left":slide="left";shadow="-4px";break;case"right_bottom":case"right":slide="right";shadow="4px";break}s+="#yourcx_corner.pmr { "+slide+": 0px; box-shadow: 4px "+shadow+" 6px "+shadow+" #333 !important; }\n";if(style.styleSheet)style.styleSheet.cssText=s;else style.appendChild(document.createTextNode(s));document.getElementsByTagName("head")[0].appendChild(style);var slide=document.createElement("div");slide.setAttribute("id","yourcx_corner");slide.innerHTML='<a href="#" title="'+this.config.texts.closeButton+'" onclick="return false;" class="yourcx_close" /></a><iframe title="'+this.config.texts.iframe+'" id="'+this.iframeId+'" name="'+this.iframeId+'" width="100%" style="height: 0px; background: none transparent scroll repeat 0% 0%;" allowTransparency="true" frameborder="0" border="0"></iframe><img id="yourcx_loader" src="https://static.yourcx.io/survey/images/loader.gif" />';document.body.appendChild(slide);var a=document.getElementById("yourcx_corner").getElementsByTagName("a");for(var i=0;i<a.length;i++)if(this.cssClass.has(a[i],"yourcx_close"))a[i].onclick=function(i){return function(){i.removeSurvey();return false}}(that);document.getElementById(this.iframeId).focus();setTimeout(function(){that.cssClass.add(slide,"pmr");that.openSurvey("iframe")},40);document.addEventListener("keydown",function(event){if(event.key==="Escape"){if(that)that.removeSurvey()}})};this.showSurveyLayer=function(){var newBg=document.createElement("div");newBg.setAttribute("id","yourcx_bg");document.body.appendChild(newBg);var layer=document.createElement("div");layer.style.top=this.page.height()*2/5-10/2+"px";layer.style.left=(this.page.width()-10)/2+"px";layer.setAttribute("id","yourcx_layer");layer.innerHTML='<a href="#" title="'+this.config.texts.closeButton+'" onclick="return false;" class="yourcx_close" /></a><iframe title="'+this.config.texts.iframe+'" id="'+this.iframeId+'" name="'+this.iframeId+'" width="100%" allowTransparency="true" frameborder="0" border="0"></iframe><img id="yourcx_loader" src="https://static.yourcx.io/survey/images/loader.gif" />';document.body.appendChild(layer);var a=document.getElementById("yourcx_layer").getElementsByTagName("a");for(var i=0;i<a.length;i++)if(this.cssClass.has(a[i],"yourcx_close"))a[i].onclick=function(i){return function(){i.removeSurvey();return false}}(that);var style=document.createElement("style"),s="";style.setAttribute("type","text/css");s+="#yourcx_bg { display: none; top: 0px; left: 0px; position: fixed; z-index: 16777270; width:100%; height:100%; filter: alpha(opacity=50); -moz-opacity: .50; -khtml-opacity: 0.5; opacity: 0.5; background-color:#000000; text-align:center; vertical-align:middle; }\n";s+="#yourcx_layer { width: 1px; z-index: 16777271; position: fixed; text-align: left; padding: 8px 8px 8px 8px; box-sizing: border-box; display: none; }\n";s+="#yourcx_layer iframe { height: 0px; background: none transparent scroll repeat 0% 0%; visibility: visible; }\n";s+="#yourcx_layer.yourcx-mobile { overflow-y: scroll; -webkit-overflow-scrolling: touch; }\n";s+="#yourcx_layer .yourcx_close { display:block; box-sizing:border-box; width: 22px; height: 22px; border-width:3px; border-style: solid; border-color:#000000; border-radius:100%; background: -webkit-linear-gradient(-45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%), -webkit-linear-gradient(45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%); background-color: #000000; box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5); transition: all 0.3s ease; position: absolute; right: 0px; top: 0px; }\n";s+="#yourcx_layer.yourcx-mobile .yourcx_close { width: 26px; height: 26px; right: 10px; top: 10px; }\n";s+="#yourcx_layer .yourcx_close:hover { background-color: #777777; }\n";s+=".yourcxBlockOverflow { overflow: hidden; }\n";if(style.styleSheet)style.styleSheet.cssText=s;else style.appendChild(document.createTextNode(s));document.getElementsByTagName("head")[0].appendChild(style);document.getElementById(this.iframeId).focus();this.openSurvey("iframe");document.addEventListener("keydown",function(event){if(event.key==="Escape"){if(that)that.removeSurvey()}})};this.showSurveyInsert=function(tries){var txt,d;if(typeof tries=="undefined")tries=3;txt='<iframe title="'+this.config.texts.iframe+'" id="'+this.iframeId+'" name="'+this.iframeId+'" frameborder="0" width="'+this.config.display.startWidth+'" height="150" marginheight="0" marginwidth="0"></iframe>';d=document.createElement("div");d.innerHTML=txt;d.className="yourcx_insert_iframe_wrapper";if(!document.getElementById(this.config.blockId)){if(tries>0){setTimeout(function(){that.showSurveyInsert(tries-1)},1234)}return}document.getElementById(this.config.blockId).appendChild(d);this.openSurvey("iframe")};this.openSurvey=function(mode){var proto="https:"==document.location.protocol?"https://":"https://",params=this.getParams();_analytics.userDataEvent("surveySeen",{cid:this.od.hash});if(window.screen){params.s["s"]=window.screen.width+"x"+window.screen.height;if(!isNaN(screen.pixelDepth)&&screen.pixelDepth!=0){params.s["c"]=screen.pixelDepth}else{params.s["c"]=screen.colorDepth}}if(document.referrer)params.s["r"]=document.referrer.substring(0,399);if(document.URL)params.s["u"]=document.URL.substring(0,399);params.s["t"]=(new Date).getTime();params.s["td"]=((new Date).getTime()-_run_time)/1e3;params.s["p"]=this.product;params.s["ph"]=this.page.allHeight();if(!_undef(this.config.pictogramMode))params.s["_pm"]=this.config.pictogramMode;params.s["_sm"]=this.config.surveyMode;if(!_undef(this.config.hovercard))params.s["_hovercard"]=this.config.hovercard.enable;if(!_undef(window.performance)&&!_undef(window.performance.timing))params.s["performanceTiming"]=window.performance.timing;params.s["title"]=document.title;params.a=_analytics.getData();params.u=_analytics.getUserId();form=document.createElement("form");switch(mode){case"window":window.open("",this.product,"width=700,height=600,innerWidth=700,innerHeight=600,titlebar=0,scrollbars=1,status=0,location=0,toolbar=0,menubar=0");form.target=this.product;form.action=proto+"surveys.yourcx.io/s/"+this.od.hash;break;case"iframe":this.surveyUrl=proto+"surveys.yourcx.io/s/"+this.od.hash+"/#"+this.iframeId+"|"+encodeURIComponent(document.URL.substring(0,299));form.target=this.iframeId;form.action=this.surveyUrl;break}form.method="post";form.style.display="none";input=document.createElement("input");input.type="hidden";input.name="params";input.value=JSON.stringify(params);form.appendChild(input);for(key in this.od.surveyInputParams){input=document.createElement("input");input.type="hidden";input.name=key;input.value=this.od.surveyInputParams[key];form.appendChild(input)}document.body.appendChild(form);form.submit();_observer.fire("postOpenSurvey."+this.od.hash,{survey:this});_observer.fire("postOpenSurvey",{survey:this});return this.surveyUrl};this.fireSurvey=function(mode){_observer.fire("preFireSurvey."+this.od.hash,{mode:mode});if(mode)that.addParamInternal("_im",mode);if(blockFireSurvey)return false;if(this.checkBeforeFireSurvey)this.checkBeforeFireSurvey(mode);else this.fireSurveyInternal(mode);return true};this.fireSurveyInternal=function(mode){if(mode)that.addParamInternal("_im",mode);if(!_undef(_postponedSurveys[that.od.hash])&&!that.config.postpone.allowWelcomeForPostponed){this.fireSurveyReal();return}if(!this.config.welcome.enable){this.fireSurveyReal();return}this.showWelcome()};this.fireSurveyReal=function(){if(!_undef(_postponedSurveys[that.od.hash])){this.addSurveyInputParams("tmp_result_id",_postponedSurveys[this.od.hash].tmp_result_id);if(that.config.postpone.blockade=="onRestore"){that.storageGet("postponed surveys",function(data){if(!data)data={};if(!_undef(data[that.od.hash]))delete data[that.od.hash];if(!_undef(data["global"])&&!_undef(data["global"][that.od.hash]))delete data["global"][that.od.hash];that.storageSet("postponed surveys",data,{_omitStoragePrefix:true})},{_omitCache:true,_omitStoragePrefix:true})}else if(that.config.postpone.blockade=="afterSurveyFilled"){_observer.on("surveyFilled."+this.od.hash,function(){that.storageGet("postponed surveys",function(data){if(!data)data={};if(!_undef(data[that.od.hash]))delete data[that.od.hash];if(!_undef(data["global"])&&!_undef(data["global"][that.od.hash]))delete data["global"][that.od.hash];that.storageSet("postponed surveys",data,{_omitStoragePrefix:true})},{_omitCache:true,_omitStoragePrefix:true})})}this.od.startedAsPostponed=true;_observer.fire("runPostponedSurvey",{hash:this.od.hash,product:this.product});that.closePostponedWidget();if(that.config.postpone.display.changePostponedSurveyMode)that.config.surveyMode=that.config.postpone.display.postponedSurveyMode}_analytics.getClientParams(function(_params){params.c=_params;switch(that.config.surveyMode){case"insert":that.iframeId=that.iframeIdBase+"_insert";_yourcx_transport.registerListener(that.iframeId,that);that.resize=that.resizeInsert;that.addEventListener(window,"resize","onResize");that.showSurveyInsert();break;case"layer":if(_globalFireSurveyBlock&&that.getParamInternal("_im")!="click")return false;_globalFireSurveyBlock=true;that.iframeId=that.iframeIdBase+"_layer";_yourcx_transport.registerListener(that.iframeId,that);that.resize=that.resizeLayer;that.addEventListener(window,"resize","onResize");that.showSurveyLayer();break;case"slide":if(_globalFireSurveyBlock&&that.getParamInternal("_im")!="click")return false;_globalFireSurveyBlock=true;that.iframeId=that.iframeIdBase+"_slide";_yourcx_transport.registerListener(that.iframeId,that);that.resize=that.resizeSlide;that.addEventListener(window,"resize","onResize");that.showSurveySlide();break;case"corner":if(_globalFireSurveyBlock&&that.getParamInternal("_im")!="click")return false;_globalFireSurveyBlock=true;that.iframeId=that.iframeIdBase+"_corner";_yourcx_transport.registerListener(that.iframeId,that);that.resize=that.resizeCorner;that.addEventListener(window,"resize","onResize");that.showSurveyCorner();break;case"window":default:_yourcx_transport.registerListener(that.product+"_"+that.od.hash,that);that.resize=function(message){};that.openSurvey("window");break}},false,false)};this.showWelcome=function(){var options={classBase:"yourcx_welcome_",checkGlobalWelcomeBlock:true,internalParam:{set:true,name:"_welcome",val:this.config.welcome.mode},widgetBase:this.config.welcome,observerEvent:"welcome.show",analyticsEvent:"survey.welcome.shown",closeFunction:"closeWelcome",runFunction:"runWelcomeSurvey"};this.showWelcomeInternal(options)};this.showPostponedSurveyWidget=function(){var options={classBase:"yourcx_postpone_",checkGlobalWelcomeBlock:false,internalParam:{set:false,name:"_postpone",val:"widget"},widgetBase:this.config.postpone.methods.widget,observerEvent:"postpone.show",analyticsEvent:"survey.postpone.shown",closeFunction:"closePostponedWidget",runFunction:"runPostponedSurvey"};this.showWelcomeInternal(options)};this.showWelcomeInternal=function(_options){var classBase=_options["classBase"],txt="";if(_options["checkGlobalWelcomeBlock"]){if(_globalWelcomeBlock)return false;_globalWelcomeBlock=true}if(_options.internalParam.set)that.addParamInternal(_options.internalParam.name,_options.internalParam.val);var welcome=document.createElement("div");welcome.setAttribute("id","yourcx_layer"+_options.internalParam.name);var widgetBase=_options.widgetBase;switch(widgetBase.mode){case"two surveys":var newBg=document.createElement("div");newBg.setAttribute("id","yourcx_bg");document.body.appendChild(newBg);welcome.style.width=widgetBase.style.width+"px";welcome.style.top=this.page.height()*2/5-widgetBase.style.height/2+"px";welcome.style.left=(this.page.width()-widgetBase.style.width)/2+"px";welcome.innerHTML='<div class="'+classBase+'main">               <div class="'+classBase+'close"></div>               <div class="'+classBase+'head">                 <img class="'+classBase+'logo" src="'+widgetBase.style.logoImage+'" />                 <span class="'+classBase+'main_text">'+widgetBase.texts.main+'</span>               </div>               <div class="'+classBase+'body">                 <div class="'+classBase+"button "+classBase+'button1">                   <a class="'+classBase+"button "+classBase+'button1">                     <img src="'+widgetBase.buttons[1].image+'" />                     <span>'+widgetBase.buttons[1].text+'</span>                   </a>                 </div>                 <div class="'+classBase+"button "+classBase+'button2">                   <a class="'+classBase+"button "+classBase+'button2">                     <img src="'+widgetBase.buttons[2].image+'" />                     <span>'+widgetBase.buttons[2].text+'</span>                   </a>                 </div>               </div>               <div class="'+classBase+'footer">                 <div class="'+classBase+'oplogo">                   '+widgetBase.texts.footer+'                   <a href="https://yourcx.pluto/" target="_blank">YourCX</a>                 </div>               </div>             </div>';document.body.appendChild(welcome);var style=document.createElement("style"),s="",o="#yourcx_layer ";style.setAttribute("type","text/css");s+="#yourcx_bg { top: 0px; left: 0px; position: fixed; z-index: 100000; width:100%; height:100%; filter: alpha(opacity=50); -moz-opacity: .50; -khtml-opacity: 0.5; opacity: 0.5; background-color:#000000; text-align:center; vertical-align:middle; }\n";s+=o+"{ text-align: left; position: fixed; z-index: 100001; }\n";s+=o+" ."+classBase+"main { margin: 15px; font-family: arial; color: #000000; background-color: #ffffff; position: reative; font-size: 12px; box-shadow: 0 0 15px rgba(0, 0, 0, 0.6); }\n";s+=o+" ."+classBase+"close { position: absolute; right: 10px; top: 10px; width: 16px; height: 16px; display: block; background: url('//static.yourcx.pluto/survey/close.png') no-repeat; cursor: pointer; border: 3px solid #011971; border-radius: 18px; }\n";s+=o+" ."+classBase+"close:hover { background: url('//static.yourcx.pluto/survey/close_hover.png') no-repeat; }\n";s+=o+" ."+classBase+"head { background-color: #011971; display: flex; align-items: center; }\n";s+=o+" ."+classBase+"logo { max-width: 160px; max-height: 30px; margin: 14px 10px 10px 20px; }\n";s+=o+" ."+classBase+"main_text { flex-grow: 1; padding: 14px 20px 10px 20px; color: #ffffff; font-size: 17px; font-weight: bold; }\n";s+=o+" ."+classBase+"body { padding: 20px 20px; display: flex; align-items: center; }\n";s+=o+" div."+classBase+"buttons { width: 50%; text-align: center; }\n";s+=o+" a."+classBase+"button { cursor: pointer; display: flex;  align-items: center; justify-content: center; padding: 20px 0px 20px 0px; }\n";s+=o+" a."+classBase+"button:hover { text-decoration: none; background-color: #f2f2f2; }\n";s+=o+" ."+classBase+"button img { max-width: 40px; max-height: 40px; margin-right: 5px; }\n";s+=o+" ."+classBase+"button span { padding: 8px 20px 8px 20px; color: #ffffff; font-size: 15px; font-weight: bold; background-color: #011971; border-radius: 4px; max-width: 160px; }\n";s+=o+" ."+classBase+"footer { padding: 0px 10px 8px 0px; text-align: right; }\n";s+=o+" ."+classBase+"footer a { font-weight: bold; color: #011971; }\n";s+=o+" ."+classBase+"orange { color: #F47605; }\n";break;case"bottom":widgetBase.buttons[1].hash=this.od.hash;welcome.style.width="100%";welcome.style.bottom="0px";welcome.style.left="0px";welcome.innerHTML='<div class="'+classBase+'main">               <div class="'+classBase+'close"></div>               <a class="'+classBase+"body "+classBase+'button1" href="#">'+widgetBase.texts.mainBottom+"</a>             </div>";document.body.appendChild(welcome);var style=document.createElement("style"),s="",o="#yourcx_layer ";style.setAttribute("type","text/css");s+=o+"{ text-align: center; position: fixed; z-index: 100001; }\n";s+=o+" ."+classBase+"main { padding: 10px; font-family: arial; color: #000000; background-color: #ffffff; box-shadow: 0 0 15px rgba(0, 0, 0, 0.6); display: flex; justify-content: center; }\n";s+=o+" ."+classBase+"close { position: absolute; right: 10px; top: 10px; width: 26px; height: 26px; display: block; background: url('//static.yourcx.pluto/survey/close.png') no-repeat; cursor: pointer; }\n";s+=o+" ."+classBase+"close:hover { background: url('//static.yourcx.pluto/survey/close_hover.png') no-repeat; }\n";s+=o+" ."+classBase+"body { display: block; padding: 10px; text-align: center; width: 70%; cursor: pointer; font-size: 14px; color: #000000; text-decoration: none; background-color: #f7f7f7; border: 1px solid #dddddd; line-height: 1.3em; }\n";s+=o+" ."+classBase+"body:hover { background-color: #f0f0f0; }\n";break;case"welcome":widgetBase.buttons[1].hash=this.od.hash;if(!_undef(widgetBase.texts.buttons))widgetBase.texts.main+=widgetBase.texts.buttons;if(widgetBase.style.width&&parseInt(widgetBase.style.width))welcome.style.width=widgetBase.style.width+"px";mainBorderStyles="border: "+widgetBase.style.main.bo+"; border-radius: 6px 6px 0px 0px; border-bottom: none;";switch(widgetBase.verticalMode){case"top":welcome.style.top="0px";mainBorderStyles="border: "+widgetBase.style.main.bo+"; border-radius: 0px 0px 6px 6px; border-top: none;";break;case"bottom":welcome.style.bottom="0px";break}switch(widgetBase.submode){case"left":welcome.style.left=widgetBase.style.sideMargin+"px";break;case"center":welcome.style.left=(this.page.width()-widgetBase.style.width)/2+"px";break;case"right":default:welcome.style.right=widgetBase.style.sideMargin+"px";break}txt='<div class="'+classBase+'main $MOBILE$">               <div class="'+classBase+'close"></div>';if(widgetBase.texts.head.length)txt+='<div class="'+classBase+'head">                 $LOGO$<span class="'+classBase+'head_text">'+widgetBase.texts.head+"</span>               </div>";txt+='<div class="'+classBase+'body">'+widgetBase.texts.main+"</div>               $FOOTER$             </div>";if(widgetBase.style.logoImage&&widgetBase.style.logoImage.length)txt=txt.replace("$LOGO$",'<img class="'+classBase+'logo" src="'+widgetBase.style.logoImage+'" />');else txt=txt.replace("$LOGO$","");if(!widgetBase.addFooter){txt=txt.replace("$FOOTER$","")}else txt=txt.replace("$FOOTER$",'<div class="'+classBase+'footer">                 <div class="'+classBase+'oplogo">                   '+widgetBase.texts.footer+'                   <a href="https://yourcx.io/" target="_blank">YourCX</a>                 </div>               </div>');if(_mobile)txt=txt.replace("$MOBILE$",classBase+"mobile");else txt=txt.replace("$MOBILE$","");txt=txt.replace(/\$CLASSBASE\$/g,classBase);welcome.innerHTML=txt;document.body.appendChild(welcome);var style=document.createElement("style"),s="",o="#yourcx_layer"+_options.internalParam.name+" ",ws=widgetBase.style;style.setAttribute("type","text/css");s+=o+"{ text-align: center; position: fixed; z-index: 2147483647!important; }\n";s+=o+" ."+classBase+"main { padding: 0px; background-color: #"+that._.getColor(ws.main.bg)+"; text-decoration: none; font-size: 14px; display: flex; flex-direction: column; justify-content: center; "+mainBorderStyles+" }\n";if(widgetBase.addFooter){s+=o+" ."+classBase+"footer { border-top: 1px solid #cccccc; padding: 3px 10px; color: #"+that._.getColor(ws.footer.c)+"; background-color: #"+that._.getColor(ws.footer.bg)+"; text-align: left; font-size: 11px; }\n";s+=o+" ."+classBase+"footer a { color: #"+that._.getColor(ws.footer.c)+"; background-color: #"+that._.getColor(ws.footer.bg)+"; font-size: 11px; }\n"}s+=o+" ."+classBase+"body { display: flex; padding: "+ws.body.padding+"; text-align: center; font-size: 13px; color: #"+that._.getColor(ws.body.c)+"; background-color: transparent; }\n";s+=o+" ."+classBase+"buttons { display: flex; flex-direction: column; padding: "+ws.buttons.padding+"; justify-content: center; }\n";s+=o+" ."+classBase+"button { cursor: pointer; font-size: 14px; padding: 10px 5px 10px 5px; color: #"+that._.getColor(ws.button.c)+"; background-color: #"+that._.getColor(ws.button.bg)+"; text-decoration: none; white-space: nowrap; }\n";s+=o+" ."+classBase+"button_small { font-size: 13px; padding: 5px 8px; }\n";s+=o+" ."+classBase+"button:hover { color: #"+that._.getColor(ws.button.hc)+"; background-color: #"+that._.getColor(ws.button.hbg)+"; text-decoration: none; }\n";s+=o+" ."+classBase+"button:first-child { margin-right: 15px; }\n";s+=o+" ."+classBase+"close { display: none; }\n";s+=o+" ."+classBase+"head { display: none; }\n";s+=o+" ."+classBase+"body_in { padding: 20px; text-align: left; }\n";s+=o+" ."+classBase+"body_in1 { font-size: 20px; font-weight: bold; margin-bottom: 10px; }\n";s+=o+" ."+classBase+"body_in2 { font-size: 13px; font-weight: bold; }\n";s+=o+" ."+classBase+"button.yourcx_welcome_button1 { background: #"+that._.getColor(ws.button.bg)+"; color: #"+that._.getColor(ws.button.c)+"; min-width: 170px; padding: 15px; margin-right: 0px; }\n";s+=o+" ."+classBase+"button.yourcx_welcome_button1:hover { background: #"+that._.getColor(ws.button.hbg)+"; color: #"+that._.getColor(ws.button.hc)+" }\n";s+=o+" ."+classBase+"button.yourcx_welcome_button2 { text-decoration: underline; background: transparent; color: #ffffff; padding: 15px; font-size: 13px; }\n";s+=o+" ."+classBase+"button.yourcx_welcome_button2:hover { text-decoration: none; }\n";s+=o+" ."+classBase+"mobile .yourcx_welcome_body { padding: 5px; }\n";s+=o+" ."+classBase+"mobile .yourcx_welcome_button.yourcx_welcome_button1 { min-width: 120px; }\n";if(widgetBase.verticalMode=="side"){switch(widgetBase.submode){case"left":welcome.style.left="0px";welcome.style.top="60%";welcome.style.right="unset";welcome.style.bottom="unset";s+=o+" ."+classBase+"main { border-top: none; border-bottom: "+widgetBase.style.main.bo+"; border-radius: 0px 0px 6px 6px; transform: rotate(270deg); transform-origin: 0% 0%; }\n";break;case"center":case"right":welcome.style.right="0px";welcome.style.top="50%";welcome.style.left="unset";welcome.style.bottom="unset";s+=o+" ."+classBase+"main { transform: rotate(270deg); transform-origin: 100% 100%; }\n";break}}if(ws.addCss)s+=ws.addCss;break}if(style.styleSheet)style.styleSheet.cssText=s;else style.appendChild(document.createTextNode(s));document.getElementsByTagName("head")[0].appendChild(style);var tab=document.getElementById("yourcx_layer"+_options.internalParam.name).getElementsByTagName("a"),buttonNumber=null;for(var i=0;i<tab.length;i++){buttonNumber=null;if(this.cssClass.has(tab[i],classBase+"button1"))buttonNumber=1;if(this.cssClass.has(tab[i],classBase+"button2"))buttonNumber=2;if(buttonNumber){switch(widgetBase.buttons[buttonNumber].mode){case"link":tab[i].onclick=function(i,j,func){return function(){i[func](j);return false}}(that,buttonNumber,_options.runFunction);break;case"close":tab[i].onclick=function(i,j){return function(){i[j]();return false}}(that,_options.closeFunction);break}tab[i].innerHTML=widgetBase.buttons[buttonNumber].text}}tab=document.getElementById("yourcx_layer"+_options.internalParam.name).getElementsByClassName(classBase+"close");for(var i=0;i<tab.length;i++){tab[i].onclick=function(i,j){return function(){i[j]();return false}}(that,_options.closeFunction)}_observer.fire(_options.observerEvent,widgetBase.buttons[1].hash);_analytics.sendEvent(_options.analyticsEvent,"surveyId",widgetBase.buttons[1].hash);that.od.hasShownWelcome=true};this.closeWelcome=function(_mode){_mode=_mode||"manual";var bg=document.getElementById("yourcx_bg");if(bg)document.body.removeChild(bg);var layer=document.getElementById("yourcx_layer_welcome");if(layer)document.body.removeChild(layer);if(!_undef(this.config.welcome.followUser)&&this.config.welcome.followUser.enable&&_mode=="manual"){this.storageDel("target welcome followUser")}if(_mode!="manual")_globalWelcomeBlock=false};this.closePostponedWidget=function(){var layer=document.getElementById("yourcx_layer_postpone");if(layer){document.body.removeChild(layer);_observer.fire("closePostponedWidget")}};this.runWelcomeSurvey=function(_buttonNum){if(this.config.welcome.buttons[_buttonNum].hash)this.od.hash=this.config.welcome.buttons[_buttonNum].hash;this.closeWelcome();this.fireSurveyReal()};this.runPostponedSurvey=function(_buttonNum){if(this.config.postpone.methods.widget.buttons[_buttonNum].hash)this.od.hash=this.config.postpone.methods.widget.buttons[_buttonNum].hash;this.addSurveyInputParams("updateParams",JSON.stringify({s:{_postpone:"widget"}}));this.closePostponedWidget();this.fireSurveyReal()};this.init=function(config){var skin=null,pictogram=null,i,j;for(i in config){switch(i){case"id":this.od.hash=config[i];this.od.storagePrefix=this.od.hash+" ";break;case"segment":this.segment(config[i]);break;case"onLoad":break;case"surveyMode":this.config.surveyMode=config[i];break;case"product":break;case"language":this.addParamInternal("lang",config[i],"ts");break;case"mobile":break;case"answers":for(j in config[i]){this.setSurveyAnswer(j,config[i][j])}break;case"config":this.config=fExtend(this.config,config[i]);break;case"od":this.od=fExtend(this.od,config[i]);break;case"linkText":this.config.pictogramText=config[i];break;case"mode":this.config.pictogramMode=config[i];break;case"skin":this.config.skin=config[i];break;case"pictogram":pictogram=config[i];break;case"hovercard":this.config.hovercard.enable=config[i];break;case"process":this.isProcessPage(config[i]);break;case"finish":this.finishProcessPage(config[i]);break}}if(skin)this.setSkin(this.config.skin,pictogram);if(!_undef(config.onLoad))config.onLoad(this);if(!_undef(config["mobile"])&&_mobile){var m=config["mobile"];delete config["mobile"];this.init(m,false)}};this.baseRun=function(){if(!that.config.postpone.enable){that.run();return}that.storageGet("postponed surveys",function(data){if(!data){that.run();return}if(_undef(data[that.od.hash])||_undef(data[that.od.hash].time)){that.run();return}var time=data[that.od.hash].time;if(time+that.config.postpone.maxPostponeMinutes*60*1e3>=(new Date).getTime())that.initPostponedSurvey(data[that.od.hash].tmp_result_id,data);else{that.run();delete data[that.od.hash];that.storageSet("postponed surveys",data,{_omitStoragePrefix:true})}},{_omitCache:true,_omitStoragePrefix:true})};this.initPostponedSurvey=function(tmp_result_id,data){if(!_undef(_postponedSurveys[that.od.hash])){if(_undef(_postponedSurveys[that.od.hash].product[that.product])){_postponedSurveys[that.od.hash].product[that.product]=1;that.run()}return}if(_undef(_postponedSurveys[that.od.hash])){_postponedSurveys[that.od.hash]={tmp_result_id:tmp_result_id,product:{},time:data[that.od.hash].time,page:data[that.od.hash].page};_postponedSurveys[that.od.hash].product[that.product]=1;_observer.fire("initPostponedSurvey",that.od.hash)}else _postponedSurveys[that.od.hash].product[that.product]=1;var analyticsData=_analytics.getData();if(that.config.postpone.methods.quit.enable){var surveyConfig={product:"quit",onLoad:function(obj){obj.addSurveyInputParams("updateParams",JSON.stringify({s:{_postpone:"quit"}}))}};yourcx("survey",that.od.hash,surveyConfig)}if(that.config.postpone.methods.target.enable){var surveyConfig={product:"target",onLoad:function(obj){obj.addSurveyInputParams("updateParams",JSON.stringify({s:{_postpone:"target"}}))}};var forceRun=false;if(analyticsData.visit.page-_postponedSurveys[that.od.hash].page>=that.config.postpone.methods.target.minPagesOnSiteFromHide)forceRun=true;if((new Date).getTime()-_postponedSurveys[that.od.hash].time>=that.config.postpone.methods.target.minTimeOnSiteFromHide*1e3)forceRun=true;if(forceRun)setTimeout(function(){yourcx("forcerun",that.od.hash,surveyConfig)},20);else setTimeout(function(){yourcx("survey",that.od.hash,surveyConfig)},20)}if(that.config.postpone.methods.widget.enable)that.showPostponedSurveyWidget()}}
function initGlobalPostponedSurveys(){_storage.get("postponed surveys",function(data){if(!data){return}if(_undef(data["global"])){return}var time,maxPostpone,removed=false,surveyId;for(surveyId in data["global"]){time=data["global"][surveyId].time;maxPostpone=data["global"][surveyId].maxPostponeMinutes;if(time+maxPostpone*60*1e3>=(new Date).getTime())yourcx("survey",surveyId,data["global"][surveyId].surveyConfig);else{delete data["global"][surveyId];removed=true}}if(removed)_storage.set("postponed surveys",data)},true)}function _invokeOnHistoryHashChange(state){var i,arg;_globalFireSurveyBlock=false;var lastCommands=[];if(_config.analytics.flags.hashHistoryChangeAutoRepeat){for(i=window.yourcx.q.length-1;i>=0;i--){arg=window.yourcx.q[i];if(arg.length<1)continue;if(arg[0]=="clean")break;lastCommands.unshift(arg)}}if(_config.analytics.flags.hashHistoryChangeAutoClean){lastCommands.unshift(["clean"]);lastCommands.unshift(["clean_dimensions"])}for(i=0;i<lastCommands.length;i++)_processYourcxCall(lastCommands[i])}_observer.on("analytics.init.historyChange",_invokeOnHistoryHashChange);_observer.on("analytics.init.hashChange",_invokeOnHistoryHashChange);_observer.on("analytics.init.historyChange",initGlobalPostponedSurveys);_observer.on("analytics.init.hashChange",initGlobalPostponedSurveys);_observer.on("analytics.init.historyChange",_runConfigAndConditions);_observer.on("analytics.init.hashChange",_runConfigAndConditions);function _processYourcxCall(argv){if(argv.length<1)return;switch(argv[0]){case"survey":setTimeout(function(){_createSurvey(argv,true)},33);break;case"run":surveyConfig=_createSurvey(argv,false);if(!surveyConfig)break;var fireMode="auto",index=surveyConfig.surveyProductIndex;if(_surveys[surveyConfig.id][surveyConfig.product][index].runInit)_surveys[surveyConfig.id][surveyConfig.product][index].runInit();if(!_undef(argv[3]))fireMode=argv[3];_surveys[surveyConfig.id][surveyConfig.product][index].fireSurvey(fireMode);break;case"forcerun":surveyConfig=_createSurvey(argv,false);if(!surveyConfig)break;var fireMode="forceRun",index=surveyConfig.surveyProductIndex;if(_surveys[surveyConfig.id][surveyConfig.product][index].runInit)_surveys[surveyConfig.id][surveyConfig.product][index].runInit();if(!_undef(argv[3]))fireMode=argv[3];_globalFireSurveyBlock=false;_surveys[surveyConfig.id][surveyConfig.product][index].fireSurveyInternal(fireMode);break;case"goal":var name=null;if(argv.length<2)return;name=argv[1];_analytics.userDataEvent("goal",{name:name});break;case"event":var key=null,val=null,scope="session";if(argv.length<3)return;key=argv[1];val=argv[2];if(val==="")return;if(!_undef(argv[3])&&["page","session","visitor"].indexOf(argv[3])!=-1)scope=argv[3];if(key==="")key=scope+".event";_analytics.userDataEvent("event",{scope:scope,key:key,val:val});break;case"dimension":var key=null,val=null,scope="page";if(argv.length<3)return;key=argv[1];val=argv[2];if(val==="")return;if(!_undef(argv[3])&&["page","session","visitor"].indexOf(argv[3])!=-1)scope=argv[3];_analytics.addClientParam(key,val,scope);_analytics.dimensionCheck(key,val,scope);if(key=="page.type")_config.pageTypeFunc(val);break;case"clean_dimensions":_analytics.cleanClientParams("page");break;case"clean":var product,i,tmpSurveyId,j,removeByProducts,cleanSurveysByProducts=true;for(product in _surveysByProducts){removeByProducts=true;for(i=0;i<_surveysByProducts[product].length;i++){tmpSurveyId=_surveysByProducts[product][i];if(!_undef(_surveys[tmpSurveyId])&&!_undef(_surveys[tmpSurveyId][product])&&_surveys[tmpSurveyId][product])for(j=0;j<_surveys[tmpSurveyId][product].length;j++){if(_surveys[tmpSurveyId][product][j].config.ignoreClean)continue;if(!_undef(_postponedSurveys[tmpSurveyId])&&_postponedSurveys[tmpSurveyId]&&!_undef(_postponedSurveys[tmpSurveyId]["product"])){if(!_undef(_postponedSurveys[tmpSurveyId].product["yourcx."+product])){_surveys[tmpSurveyId][product][j].closePostponedWidget();delete _postponedSurveys[tmpSurveyId].product["yourcx."+product]}}for(k=0;k<_surveys[tmpSurveyId][product][j].od.activeTimeouts.length;k++)clearTimeout(_surveys[tmpSurveyId][product][j].od.activeTimeouts[k]);_surveys[tmpSurveyId][product][j].clean();delete _surveys[tmpSurveyId][product][j]}if(_surveys[tmpSurveyId][product])_surveys[tmpSurveyId][product]=_surveys[tmpSurveyId][product].filter(function(item){return item!==undefined});if(!_undef(_postponedSurveys[tmpSurveyId])){if(!Object.keys(_postponedSurveys[tmpSurveyId].product).length){delete _postponedSurveys[tmpSurveyId]}}if(_surveys[tmpSurveyId][product]&&!_surveys[tmpSurveyId][product].length){delete _surveys[tmpSurveyId][product];_surveys[tmpSurveyId][product]=null}else{removeByProducts=false;cleanSurveysByProducts=false}}if(removeByProducts)_surveysByProducts[product]=[]}if(cleanSurveysByProducts){_surveysByProducts={};_surveys={};_postponedSurveys={}}break;case"close":if(argv.length<2)return;var surveyId=argv[1],product,j;if(_undef(_surveys[surveyId]))return;for(product in _surveys[surveyId]){for(j=0;j<_surveys[surveyId][product].length;j++){_surveys[surveyId][product][j].removeSurvey();delete _surveys[surveyId][product][j]}_surveys[surveyId][product]=_surveys[surveyId][product].filter(function(item){return item!==undefined});for(i=0;i<_surveysByProducts[product].length;i++){if(_surveysByProducts[product][i]==surveyId)delete _surveysByProducts[product][i]}_surveysByProducts[product]=_surveysByProducts[product].filter(function(item){return item!==undefined})}break;case"pierogi":window["_yourcx"]={surveys:_surveys,observer:_observer,storage:_storage,analytics:_analytics};break}}function _createSurvey(_argv,_clean){var surveyId=null,product=null,obj=null,surveyConfig=null,i=0,j=0,tmpId=null,tmpSurveyId=null;if(_argv.length<3)return;surveyId=_argv[1];surveyConfig=_argv[2];surveyConfigOrg=JSON.parse(JSON.stringify(_argv[2]));if(Array.isArray(surveyId))surveyId=surveyId[Math.round(Math.random()*(surveyId.length-1))];surveyId=surveyId.trim();if(!_config.allowedSurveys||_config.allowedSurveys.indexOf(surveyId)==-1){ycxErrorHandler("Not allowed surveyId :"+surveyId);return}surveyConfig.id=surveyId;if(_undef(_argv[2].product)||_config.products.acceptable.indexOf(_argv[2].product)==-1)if(!_undef(_defaultSurveyConfig[surveyId])&&!_undef(_defaultSurveyConfig[surveyId]["default"]))surveyConfig=fExtend(surveyConfig,_defaultSurveyConfig[surveyId]["default"]);else return;product=surveyConfig.product;if(_config.products.exclusive.indexOf(product)!=-1&&!_undef(_surveysByProducts[product])&&_clean){for(i=0;i<_surveysByProducts[product].length;i++){tmpSurveyId=_surveysByProducts[product][i];if(!_undef(_surveys[tmpSurveyId])&&!_undef(_surveys[tmpSurveyId][product])&&_surveys[tmpSurveyId][product])for(j=0;j<_surveys[tmpSurveyId][product].length;j++){_surveys[tmpSurveyId][product][j].clean();delete _surveys[tmpSurveyId][product][j]}delete _surveys[tmpSurveyId][product];_surveys[tmpSurveyId][product]=null}_surveysByProducts[product]=[]}if(!_undef(_defaultProductConfig[product]))surveyConfig=fExtend({},_defaultProductConfig[product],surveyConfig);if(!_undef(_defaultProductConfig["__force"])&&!_undef(_defaultProductConfig["__force"][product]))surveyConfig=fExtend(surveyConfig,_defaultProductConfig["__force"][product]);if(!_undef(_defaultSurveyConfig[surveyId])){if(!_undef(_defaultSurveyConfig[surveyId]["default"]))surveyConfig=fExtend(surveyConfig,_defaultSurveyConfig[surveyId]["default"]);if(!_undef(_defaultSurveyConfig[surveyId][product]))surveyConfig=fExtend(surveyConfig,_defaultSurveyConfig[surveyId][product])}if(!_undef(_surveys[surveyId])){if(!_undef(_surveys[surveyId][product])&&_clean&&_config.products.multiply.indexOf(product)==-1){if(_surveys[surveyId][product]){for(j=0;j<_surveys[surveyId][product].length;j++){_surveys[surveyId][product][j].clean();delete _surveys[surveyId][product][j]}}delete _surveys[surveyId][product];_surveys[surveyId][product]=[]}}else _surveys[surveyId]={};if(!_undef(_surveyPreRunCheck[surveyId])){if(!_surveyPreRunCheck[surveyId](surveyConfig))return}if(!_undef(surveyConfig["config"])&&!_undef(surveyConfig.config["blockades"])&&!_undef(surveyConfig.config["blockades"]["enable"])&&!surveyConfig.config.blockades.enable)return;switch(product){case"audit":if(typeof YourcxAudit=="undefined")return;obj=new YourcxAudit;break;case"checkout":if(typeof YourcxCheckout=="undefined")return;obj=new YourcxCheckout;break;case"quit":if(typeof YourcxQuit=="undefined")return;obj=new YourcxQuit;break;case"target":if(typeof YourcxTarget=="undefined")return;obj=new YourcxTarget;break;case"insert":if(typeof YourcxInsert=="undefined")return;obj=new YourcxInsert;break}var surveyProductIndex=0;if(_undef(_surveys[surveyId][product])||_surveys[surveyId][product]==null||!_surveys[surveyId][product].length||_surveys[surveyId][product].length&&_config.products.multiply.indexOf(product)!=-1){obj.init(surveyConfig);obj.product="yourcx."+product;obj.iframeIdBase=obj.config.blockId+"_"+obj.product+"_iframe";obj.surveyConfigOrg=surveyConfigOrg;if(!obj.productPreRunCheck(_surveys[surveyId]))return;if(obj.od.hash)obj.baseRun();if(_undef(_surveys[surveyId][product])||_surveys[surveyId][product]==null)_surveys[surveyId][product]=[];_surveys[surveyId][product].push(obj);surveyProductIndex=_surveys[surveyId][product].length-1;if(_undef(_surveysByProducts[product]))_surveysByProducts[product]=[];_surveysByProducts[product].push(surveyId);if(!_undef(surveyConfig["success"]))surveyConfig["success"](surveyConfig,obj)}surveyConfig.surveyProductIndex=surveyProductIndex;return surveyConfig}function _finalStart(){if(!_analytics||!_analytics.ready){if(((new Date).getTime()-_run_time)/1e3<30){setTimeout(function(){_finalStart()},345);return}}if(!_analytics.getUserId())return;_observer.fire("runSurveys");for(var i=0;i<window.yourcx.q.length;i++)_processYourcxCall(window.yourcx.q[i]);window.yourcx.q.push=function(){for(var i=0,l=arguments.length;i<l;i++){this[this.length]=arguments[i];_processYourcxCall(this[this.length-1])}return this.length};initGlobalPostponedSurveys();_observer.fire("afterRunSurveys")}if(typeof document.body!="undefined"&&document.body){_analytics=new _YourcxAnalytics("https://static.opiniac.com/customers/919/yourcx.alytics.min.html");_finalStart()}else document.addEventListener("DOMContentLoaded",function(){_analytics=new _YourcxAnalytics("https://static.opiniac.com/customers/919/yourcx.alytics.min.html");_finalStart()})}catch(error){ycxErrorHandler(error)}})();

1==1;
